<!DOCTYPE html>
<!-- This tells the browser this is an HTML5 document -->
<html lang="en">
<!-- The html tag is the root element that contains everything on the page -->
<!-- lang="en" tells the browser this page is in English -->

<head>
  <!-- The head section contains information about the page, not visible content -->
  
  <!-- Set the character encoding to UTF-8 (supports special characters and emojis) -->
  <meta charset="UTF-8">
  
  <!-- This is the title that appears in the browser tab -->
      <title>Sensing Senses</title>
  
  <!-- Inline CSS for styling the page -->
  <style>
    /* Import Google Fonts */
    /* This loads the Inter font family from Google's servers - more modern and readable */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    /* ============================================================================
       BASIC PAGE STYLING
       ============================================================================ */

    /* Style the entire body of the webpage */
    body {
      font-family: 'Inter', sans-serif;   /* Set the font to Inter, with sans-serif as backup */
      background: linear-gradient(135deg, #fafafa 0%, #ffffff 100%); /* Subtle gradient background */
      color: #1a1a1a;                     /* Set text color to very dark gray */
      margin: 0;                          /* Remove default spacing around the body */
      padding: 0;                         /* Remove default internal spacing */
      line-height: 1.6;                   /* Reduced line height for more compact text */
      scroll-behavior: smooth;            /* Smooth scrolling between sections */
      overflow-x: hidden;                 /* Hide horizontal scroll */
    }



    /* ============================================================================
       HEADER STYLING
       ============================================================================ */

    /* Style the header section at the top of the page */
    header {
      display: flex;                      /* Use flexbox layout for flexible positioning */
      justify-content: space-between;     /* Spread items evenly across the header */
      align-items: center;                /* Center items vertically */
      padding: 25px 40px;                 /* Increased padding */
      border-bottom: 2px solid #6a4c93;   /* Purple border for presentation */
      font-size: 16px;                    /* Larger font size */
      color: #1a1a1a;                     /* Dark text color */
      background: linear-gradient(135deg, #f8f7ff 0%, #ffffff 100%); /* Gradient background */
      box-shadow: 0 4px 20px rgba(106, 76, 147, 0.1); /* Enhanced shadow */
      position: fixed;                    /* Fixed position */
      top: 0;                             /* Stick to top of viewport */
      left: 0;                            /* Full width */
      right: 0;                           /* Full width */
      z-index: 100;                       /* Ensure header stays above content */
      font-family: 'Inter', sans-serif;   /* Same font as website content */
      font-weight: 600;                   /* Bold font for presentation */
      opacity: 1;                         /* Start visible */
      transition: opacity 0.5s ease;      /* Smooth fade transition */
    }

    header.hidden {
      opacity: 0;                         /* Hide header */
    }

    /* Style the left section of the header (institution name) */
    header .left {
      color: #1a1a1a;                     /* Set text color to dark */
    }

    /* Style the center section of the header (main title) */
    header .center {
      font-weight: 400;                   /* Set font weight to normal (not bold) */
      text-align: center;                 /* Center the text horizontally */
      color: #1a1a1a;                     /* Set text color to dark */
    }

    /* Style the span element inside the center section (subtitle) */
    header .center span {
      font-size: 12px;                    /* Make this text smaller (12 pixels) */
      color: #1a1a1a;                     /* Set text color to dark */
    }

    /* Style links in the right section of the header */
    header .right, header .right a {
      color: #1a1a1a;                     /* Set link color to dark */
      text-decoration: none;              /* Remove the underline from links */
      font-weight: 400;                   /* Set font weight to normal */
    }

    /* ============================================================================
       MAIN CONTENT AREA
       ============================================================================ */

    /* Style the main content area */
    main {
      margin: 0;                          /* No margins for full-screen sections */
      padding: 0;                         /* No additional padding */
      width: 100%;                        /* Full width */
    }

    /* ============================================================================
       PROJECT TITLE STYLES
       ============================================================================ */

    /* Style the project year/date */
    .project-meta {
      font-size: 14px;                    /* Set font size to 14 pixels */
      color: #999;                        /* Set text color to light gray */
      margin-bottom: 8px;                 /* Add 8 pixels of space below this element */
    }

    /* Style the main project title (regular sections) */
    .project-title {
      font-size: 24px;                    /* Larger font size for presentation */
      font-weight: 700;                   /* Set font weight to bold */
      margin-bottom: 25px;                /* Increased margin */
      margin-top: 40px;                   /* Back to original margin */
      color: #1a1a1a;                     /* Set text color to dark gray */
      line-height: 1.2;                   /* Tighter line height for titles */
      letter-spacing: -0.02em;            /* Slightly tighter letter spacing */
      border-left: 4px solid #6a4c93;     /* Purple accent line */
      padding-left: 20px;                 /* Increased space for accent line */
      scroll-margin-top: 80px;            /* Reduced scroll margin */
      text-transform: uppercase;           /* Uppercase for presentation */
      letter-spacing: 1px;                /* Increased letter spacing for impact */
    }

    /* Style for the main title (Research Foundations + Project Outline) */
    .project-title-main {
      font-size: 56px;                    /* Larger font size for impact */
      font-weight: 900;                   /* Extra bold for impact */
      margin-bottom: 30px;                /* More space for subtitle */
      margin-top: 0;                      /* No top margin since it's the first element */
      line-height: 1.1;                   /* Tighter line height for titles */
      text-align: center;                 /* Center the title */
      letter-spacing: 2px;                /* Letter spacing for impact */
      color: #6a4c93;                     /* Purple color */
      z-index: 10;                        /* Above other content */
    }

    /* Style for Network Graph Visualization title (subsection) */
    .project-title-subsection {
      font-size: 18px;                    /* Set font size to 18 pixels (smaller than regular titles) */
      font-weight: 400;                   /* Set font weight to normal (not bold) */
      margin-bottom: 4px;                 /* Add 4 pixels of space below this element */
      margin-top: 20px;                   /* Add 20 pixels of space above this element */
      color: #666;                        /* Set text color to medium gray */
      margin-left: 20px;                  /* Add 20 pixels of space to the left (indentation) */
    }

    /* Style the project subtitle */
    .project-subtitle {
      font-size: 28px;                    /* Larger font size for subtitle */
      color: #8b5cf6;                     /* Lighter purple color */
      margin-bottom: 0;                   /* No bottom margin */
      text-align: center;                 /* Center the subtitle */
      font-weight: 500;                   /* Medium font weight */
      letter-spacing: 1px;                /* Letter spacing for readability */
    }

    /* ============================================================================
       CONTENT STYLING
       ============================================================================ */

    /* Style for section content (Lorem ipsum text) */
    .section-content {
      margin-left: 0;                     /* No left margin since titles have padding */
      margin-bottom: 0;                   /* No margin for full-screen */
      font-size: 24px;                    /* Much larger font size for presentation */
      line-height: 1.6;                   /* Slightly tighter line height for larger text */
      color: #1a1a1a;                     /* Darker text color for better contrast */
      font-weight: 500;                   /* Medium font weight for better readability */
      padding: 60px 40px;                 /* Add padding for better spacing */
      background: #ffffff;                 /* Solid white background */
      border-radius: 0;                   /* No rounded corners for full-screen */
      box-shadow: none;                   /* No shadow for full-screen */
      border-left: none;                  /* No border for full-screen */
      max-width: none;                    /* No width limit for full-screen */
      margin-left: 0;                     /* No auto margin for full-screen */
      margin-right: 0;                    /* No auto margin for full-screen */
      width: 100%;                        /* Full width */
      height: 100vh;                      /* Full viewport height */
      display: flex;                      /* Use flexbox for centering */
      flex-direction: column;             /* Stack content vertically */
      justify-content: center;            /* Center vertically */
      align-items: center;                /* Center horizontally */
      box-sizing: border-box;            /* Include padding in height calculation */
      position: relative;                 /* For absolute positioning of children */
      text-align: left;                   /* Left align text for better readability */
    }

    /* Scrollable content for long sections */
    .scrollable-content {
      overflow-y: auto;
      max-height: 80vh;
      width: 100%;
      padding-right: 12px;
    }
    
    /* Amethyst Pulse Animation for Poll Buttons */
    .amethyst-pulse {
      animation: amethystPulse 0.5s;
    }
    @keyframes amethystPulse {
      0% { box-shadow: 0 0 0 0 #cc88ff88; }
      70% { box-shadow: 0 0 16px 12px #cc88ff44; }
      100% { box-shadow: 0 0 0 0 #cc88ff00; }
    }
    .orb-btn {
      position: absolute;
      width: 68px;
      height: 68px;
      border-radius: 50%;
      border: none;
      outline: none;
      box-shadow: 0 0 24px #cc88ff99, 0 0 2px #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      font-weight: bold;
      color: #fff;
      cursor: pointer;
      transition: transform 0.12s, box-shadow 0.18s;
      z-index: 2;
      background: transparent;
    }
    .orb-btn:active {
      transform: scale(1.12);
      box-shadow: 0 0 36px #e8d5ffcc, 0 0 8px #fff;
    }
    .orb-label {
      font-size: 18px;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 0 6px #9F5FFF;
      pointer-events: none;
    }
    .amethyst-orb-btn {
      position: absolute;
      width: 68px;
      height: 68px;
      border-radius: 50%;
      border: none;
      outline: none;
      box-shadow: 0 0 24px #cc88ff99, 0 0 2px #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      font-weight: bold;
      color: #fff;
      cursor: pointer;
      transition: transform 0.12s, box-shadow 0.18s;
      z-index: 2;
      background: transparent;
    }
    .amethyst-orb-btn:active {
      transform: scale(1.12);
      box-shadow: 0 0 36px #e8d5ffcc, 0 0 8px #fff;
    }
    .amethyst-orb-label {
      font-size: 18px;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 0 6px #9F5FFF;
      pointer-events: none;
    }
    .amethyst-crystal-btn {
      position: absolute;
      width: 74px;
      height: 90px;
      border: none;
      outline: none;
      background: transparent;
      cursor: pointer;
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.18s, box-shadow 0.18s;
      filter: drop-shadow(0 0 18px #cc88ff99);
    }
    .amethyst-crystal-btn:active {
      transform: scale(1.08) rotate(-2deg);
      filter: drop-shadow(0 0 32px #e8d5ffcc);
    }
    .amethyst-crystal-shape {
      width: 64px;
      height: 80px;
      display: block;
      clip-path: polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%);
      box-shadow: 0 0 24px #cc88ff55, 0 0 8px #fff2;
      background: linear-gradient(135deg, var(--crystal1), var(--crystal2) 60%, var(--crystal3));
      border-radius: 18% 18% 30% 30%/22% 22% 40% 40%;
      position: relative;
    }
    .amethyst-crystal-shine {
      position: absolute;
      left: 18px; top: 12px;
      width: 18px; height: 28px;
      background: linear-gradient(120deg, #fff8 60%, #fff0 100%);
      border-radius: 40% 60% 60% 40%/60% 40% 60% 40%;
      opacity: 0.7;
      pointer-events: none;
    }
    .amethyst-crystal-label {
      position: absolute;
      left: 50%;
      top: 92px;
      transform: translateX(-50%);
      font-size: 18px;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 0 6px #9F5FFF, 0 0 2px #fff;
      pointer-events: none;
    }

    /* Full-screen section styling */
    .fullscreen-section {
      width: 100%;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 60px 40px;
      box-sizing: border-box;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transform: translateY(100%);
      transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1;
      background: #ffffff;                /* Solid white background */
    }

    .fullscreen-section.active {
      opacity: 1;
      transform: translateY(0);
      z-index: 2;
    }

    .fullscreen-section.prev {
      transform: translateY(-100%);
      z-index: 1;
    }

    /* Scroll indicator on the right side */
    .scroll-indicator {
      position: fixed;
      right: 30px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 8px;
      z-index: 1000;
    }

    .scroll-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(106, 76, 147, 0.3);
      border: 2px solid rgba(106, 76, 147, 0.5);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .scroll-dot.active {
      background: #6a4c93;
      border-color: #8b5cf6;
      transform: scale(1.2);
      box-shadow: 0 0 10px rgba(106, 76, 147, 0.4);
    }

    .scroll-dot:hover {
      background: rgba(106, 76, 147, 0.6);
      transform: scale(1.1);
    }

    /* Section counter - only show on first section */
    .section-counter {
      position: fixed;
      top: 30px;
      right: 30px;
      background: rgba(255, 255, 255, 0.9);
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: 600;
      color: #6a4c93;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .section-counter.visible {
      opacity: 1;
    }

    /* Hide scroll */
    body {
      overflow: hidden;
    }



    /* Container for full-screen sections */
    .sections-container {
      height: 100vh;
      overflow: hidden;                   /* Hide scroll */
      position: relative;                 /* For absolute positioning */
    }

    /* Style for experiment content */
    .experiment-content {
      background: linear-gradient(135deg, #f8f7ff 0%, #ffffff 100%);
      border: 2px solid #6a4c93;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 6px 20px rgba(106, 76, 147, 0.15);
    }

    .experiment-section {
      margin-bottom: 18px;
      padding-bottom: 18px;
      border-bottom: 1px solid #e8e8e8;
    }

    .experiment-section:last-of-type {
      border-bottom: none;
      margin-bottom: 20px;
    }

    .experiment-section h3 {
      font-size: 15px;
      font-weight: 600;
      color: #6a4c93;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .experiment-section h3::before {
      content: '💜';
      font-size: 16px;
    }

    .experiment-section p {
      font-size: 13px;
      line-height: 1.5;
      color: #2a2a2a;
      margin: 0;
    }

    .experiment-link {
      text-align: center;
      margin-top: 20px;
    }

    .experiment-button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, #6a4c93, #8b5cf6);
      color: white !important;
      padding: 12px 20px;
      border-radius: 20px;
      text-decoration: none;
      font-weight: 500;
      font-size: 13px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(106, 76, 147, 0.3);
    }

    .experiment-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(106, 76, 147, 0.4);
      background: linear-gradient(135deg, #8b5cf6, #6a4c93);
    }

    .experiment-button .arrow {
      font-size: 18px;
      transition: transform 0.3s ease;
      color: white !important;
    }

    .experiment-button:hover .arrow {
      transform: translateX(5px);
    }



    /* Style for experiment description */
    .experiment-description {
      margin-bottom: 15px;                /* Reduced space */
      font-style: italic;                 /* Italic description */
      color: #6a4c93;                     /* Purple color matching theme */
      font-weight: 500;                   /* Medium weight */
      font-size: 13px;                    /* Reduced font size */
    }

    /* Style for links in section content */
    .section-content a {
      color: #6a4c93;                     /* Purple color matching the experiment theme */
      text-decoration: none;              /* Remove underline */
      font-weight: 500;                   /* Slightly bold */
      transition: color 0.3s ease;        /* Smooth color transition on hover */
      font-size: 13px;                    /* Smaller font size */
    }

    .section-content a:hover {
      color: #8b5cf6;                     /* Lighter purple on hover */
      text-decoration: underline;         /* Add underline on hover */
    }

    /* ============================================================================
       INTERSECTING CIRCLES STYLING
       ============================================================================ */

    /* Container for the intersecting circles */
    .intersecting-circles {
      position: relative;
      width: 100%;
      height: 450px;
      margin: 25px 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Base circle styling */
    .circle {
      position: absolute;
      width: 280px;
      height: 280px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 25px;
      box-sizing: border-box;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .circle:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    /* Individual circle colors and positions */
    .circle.computational {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      top: 60px;
      left: 60px;
      z-index: 1;
    }

    .circle.psychology {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      top: 60px;
      right: 60px;
      z-index: 1;
    }

    .circle.architecture {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1;
    }



    /* Circle content styling */
    .circle-content {
      color: white;
      font-size: 12px;
      line-height: 1.3;
    }

    .circle-content h3 {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 10px;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }

    .circle-content p {
      font-size: 10px;
      opacity: 0.95;
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }

    /* Responsive design for circles */
    @media (max-width: 768px) {
      .intersecting-circles {
        height: 400px;
        flex-direction: column;
        gap: 15px;
      }
      
      .circle {
        position: relative;
        width: 200px;
        height: 200px;
        top: auto;
        left: auto;
        right: auto;
        bottom: auto;
        transform: none;
      }
      
      .center-point {
        position: relative;
        transform: none;
        top: auto;
        left: auto;
        margin: 15px auto;
      }
    }

    /* ============================================================================
       TIMELINE STYLING
       ============================================================================ */

    /* Timeline container */
    .timeline-container {
      width: 100%;
      overflow-x: auto;
      padding: 15px 0;
    }

    /* Main timeline */
    .timeline {
      display: flex;
      min-width: 1200px;
      position: relative;
      padding: 25px 0;
    }

    /* Timeline line */
    .timeline::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #6a4c93, #8b5cf6, #6a4c93);
      transform: translateY(-50%);
      border-radius: 2px;
    }

    /* Timeline items */
    .timeline-item {
      flex: 1;
      position: relative;
      padding: 0 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Timeline dots */
    .timeline-dot {
      width: 20px;
      height: 20px;
      background: linear-gradient(135deg, #6a4c93, #8b5cf6);
      border-radius: 50%;
      border: 4px solid #ffffff;
      box-shadow: 0 4px 12px rgba(106, 76, 147, 0.3);
      z-index: 2;
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }

    .timeline-item:hover .timeline-dot {
      transform: scale(1.2);
      box-shadow: 0 6px 20px rgba(106, 76, 147, 0.4);
    }

    /* Timeline content */
    .timeline-content {
      background: #ffffff;
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
      text-align: center;
      max-width: 180px;
      transition: all 0.3s ease;
      border: 2px solid #f0f0f0;
    }

    .timeline-item:hover .timeline-content {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    /* Timeline dates */
    .timeline-date {
      font-size: 10px;
      font-weight: 600;
      color: #6a4c93;
      margin-bottom: 6px;
      letter-spacing: 0.5px;
    }

    /* Timeline titles */
    .timeline-content h3 {
      font-size: 13px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 8px;
      line-height: 1.3;
    }

    /* Timeline descriptions */
    .timeline-content p {
      font-size: 11px;
      line-height: 1.4;
      color: #666;
      margin: 0;
    }

    /* Responsive timeline */
    @media (max-width: 768px) {
      .timeline {
        flex-direction: column;
        min-width: auto;
        padding: 20px 0;
      }
      
      .timeline::before {
        left: 50%;
        top: 0;
        bottom: 0;
        width: 3px;
        height: auto;
        transform: translateX(-50%);
      }
      
      .timeline-item {
        flex: none;
        margin-bottom: 30px;
        padding: 0;
      }
      
      .timeline-content {
        max-width: 100%;
        margin-top: 20px;
      }
    }

    /* ============================================================================
       ARGUMENT DIAGRAM STYLING
       ============================================================================ */

    /* Main argument diagram container */
    .argument-diagram {
      width: 100%;
      margin: 30px 0;
    }

    /* Argument flow section */
    .argument-flow {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 40px;
      gap: 30px;
    }

    /* Argument boxes */
    .argument-box {
      flex: 1;
      background: #ffffff;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 6px 25px rgba(0,0,0,0.12);
      border: 3px solid transparent;
      transition: all 0.3s ease;
    }

    .argument-box.current {
      border-color: #e5e5e5;
      background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
    }

    .argument-box.proposed {
      border-color: #6a4c93;
      background: linear-gradient(135deg, #f8f7ff 0%, #ffffff 100%);
    }

    .argument-box:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 30px rgba(0,0,0,0.15);
    }

    /* Box headers */
    .box-header {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      text-align: center;
      color: #1a1a1a;
    }

    /* Priority lists */
    .priority-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .priority-item {
      padding: 10px 15px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      text-align: center;
      transition: all 0.3s ease;
    }

    .priority-item.primary {
      background: linear-gradient(135deg, #6a4c93, #8b5cf6);
      color: white;
      box-shadow: 0 2px 8px rgba(106, 76, 147, 0.3);
    }

    .priority-item.secondary {
      background: #f0f0f0;
      color: #666;
      border: 1px solid #e0e0e0;
    }

    .priority-item.tertiary {
      background: #f8f8f8;
      color: #999;
      border: 1px solid #e8e8e8;
      font-size: 13px;
    }

    /* Challenge arrow */
    .challenge-arrow {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      min-width: 120px;
    }

    .arrow-line {
      width: 80px;
      height: 3px;
      background: linear-gradient(90deg, #6a4c93, #8b5cf6);
      border-radius: 2px;
      position: relative;
    }

    .arrow-head {
      width: 0;
      height: 0;
      border-left: 12px solid #8b5cf6;
      border-top: 8px solid transparent;
      border-bottom: 8px solid transparent;
      position: absolute;
      right: -10px;
      top: -6px;
    }

    .challenge-text {
      font-size: 12px;
      font-weight: 700;
      color: #6a4c93;
      margin-top: 15px;
      letter-spacing: 1px;
    }

    /* Evidence section */
    .evidence-section {
      margin-bottom: 40px;
    }

    .evidence-title {
      font-size: 20px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 25px;
      text-align: center;
    }

    .evidence-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .evidence-item {
      display: flex;
      align-items: center;
      gap: 15px;
      background: #ffffff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      border-left: 4px solid #6a4c93;
      transition: all 0.3s ease;
    }

    .evidence-item:hover {
      transform: translateX(5px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.12);
    }

    .evidence-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    .evidence-text {
      font-size: 15px;
      color: #2a2a2a;
      font-weight: 500;
    }

    /* Impact section */
    .impact-section {
      margin-top: 30px;
    }

    .impact-title {
      font-size: 20px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 25px;
      text-align: center;
    }

    .impact-flow {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 20px;
    }

    .impact-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      background: #ffffff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 3px 12px rgba(0,0,0,0.1);
      min-width: 120px;
      transition: all 0.3s ease;
    }

    .impact-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    }

    .impact-icon {
      font-size: 28px;
    }

    .impact-text {
      font-size: 14px;
      font-weight: 500;
      color: #2a2a2a;
      text-align: center;
    }

    /* Responsive design for argument diagram */
    @media (max-width: 768px) {
      .argument-flow {
        flex-direction: column;
        gap: 20px;
      }
      
      .challenge-arrow {
        transform: rotate(90deg);
        min-width: auto;
        min-height: 80px;
      }
      
      .evidence-grid {
        grid-template-columns: 1fr;
      }
      
      .impact-flow {
        justify-content: center;
      }
    }

    /* ============================================================================
       VISUAL REPRESENTATION STYLING
       ============================================================================ */

    /* Main container */
    .visual-language-container {
      width: 100%;
      margin: 30px 0;
    }

    /* Visual Elements Grid */
    .visual-elements {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-bottom: 50px;
    }

    .element-card {
      background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
      border-radius: 25px;
      padding: 35px;
      box-shadow: 0 8px 35px rgba(0,0,0,0.1);
      border: 3px solid #e8e8e8;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }

    .element-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
    }

    .element-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 12px 40px rgba(0,0,0,0.15);
      border-color: #6a4c93;
    }

    .element-visual {
      height: 120px;
      border-radius: 10px;
      margin-bottom: 20px;
      position: relative;
      overflow: hidden;
    }

    /* Gradient Demo */
    .gradient-demo {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      position: relative;
    }

    .gradient-layer {
      position: absolute;
      opacity: 0.7;
      animation: float 4s ease-in-out infinite;
    }

    .gradient-layer:nth-child(1) {
      width: 80px;
      height: 60px;
      background: linear-gradient(45deg, #f093fb, #f5576c);
      top: 20px;
      left: 20px;
      border-radius: 40px 20px 40px 20px;
      animation-delay: 0s;
    }

    .gradient-layer:nth-child(2) {
      width: 50px;
      height: 50px;
      background: linear-gradient(45deg, #4facfe, #00f2fe);
      top: 40px;
      right: 30px;
      border-radius: 50%;
      animation-delay: 1s;
    }

    .gradient-layer:nth-child(3) {
      width: 70px;
      height: 40px;
      background: linear-gradient(45deg, #6a4c93, #8b5cf6);
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 20px 40px 20px 40px;
      animation-delay: 2s;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    /* Geometric Demo */
    .geometric-demo {
      background: #f8f9fa;
      display: flex;
      align-items: center;
      justify-content: space-around;
      padding: 20px;
    }

    .geo-shape {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #6a4c93, #8b5cf6);
      animation: rotate 6s linear infinite;
    }

    .geo-shape:nth-child(1) {
      clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
      animation-delay: 0s;
    }

    .geo-shape:nth-child(2) {
      clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
      background: linear-gradient(135deg, #f093fb, #f5576c);
      animation-delay: 2s;
    }

    .geo-shape:nth-child(3) {
      clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      animation-delay: 4s;
    }

    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Light Demo */
    .light-demo {
      background: #1a1a1a;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .light-core {
      width: 30px;
      height: 30px;
      background: radial-gradient(circle, #ffffff, #f0f0f0);
      border-radius: 50%;
      box-shadow: 0 0 20px rgba(255,255,255,0.8);
      animation: pulse 2s ease-in-out infinite;
    }

    .light-ray {
      position: absolute;
      width: 3px;
      height: 60px;
      background: linear-gradient(to top, transparent, #ffffff, transparent);
      animation: ray 3s ease-in-out infinite;
    }

    .light-ray:nth-child(1) {
      transform: rotate(0deg);
      animation-delay: 0s;
    }

    .light-ray:nth-child(2) {
      transform: rotate(120deg);
      animation-delay: 1s;
    }

    .light-ray:nth-child(3) {
      transform: rotate(240deg);
      animation-delay: 2s;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.8; }
    }

    @keyframes ray {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }

    .element-title {
      font-size: 18px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 10px;
    }

    .element-desc {
      font-size: 14px;
      color: #666;
      line-height: 1.5;
    }

    /* Aesthetic Principles */
    .aesthetic-principles {
      margin-bottom: 50px;
    }

    .principle-section {
      margin-bottom: 40px;
    }

    .principle-title {
      font-size: 20px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 25px;
      text-align: center;
    }

    .principle-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .principle-item {
      display: flex;
      align-items: center;
      gap: 15px;
      background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.06);
      border: 2px solid #f0f0f0;
      transition: all 0.3s ease;
      position: relative;
    }

    .principle-item::after {
      content: '';
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      width: 8px;
      height: 8px;
      background: #6a4c93;
      border-radius: 50%;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .principle-item:hover {
      transform: translateX(8px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      border-color: #6a4c93;
    }

    .principle-item:hover::after {
      opacity: 1;
      transform: translateY(-50%) scale(1.5);
    }

    .principle-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    .principle-text {
      font-size: 15px;
      color: #2a2a2a;
      font-weight: 500;
    }

    /* Philosophy Flow */
    .philosophy-flow {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .philosophy-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
      padding: 25px;
      border-radius: 18px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.08);
      min-width: 160px;
      transition: all 0.4s ease;
      border: 2px solid #f0f0f0;
      position: relative;
    }

    .philosophy-step::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #667eea, #764ba2, #f093fb, #667eea);
      border-radius: 20px;
      z-index: -1;
      opacity: 0;
      transition: all 0.4s ease;
    }

    .philosophy-step:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 8px 25px rgba(0,0,0,0.12);
      border-color: transparent;
    }

    .philosophy-step:hover::before {
      opacity: 1;
    }

    .philosophy-step.result {
      background: linear-gradient(135deg, #f8f7ff 0%, #ffffff 100%);
      border: 3px solid #6a4c93;
      box-shadow: 0 6px 25px rgba(106, 76, 147, 0.2);
    }

    .step-number {
      width: 30px;
      height: 30px;
      background: linear-gradient(135deg, #6a4c93, #8b5cf6);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
    }

    .step-text {
      font-size: 14px;
      font-weight: 500;
      color: #2a2a2a;
      text-align: center;
    }

    .philosophy-arrow {
      font-size: 20px;
      font-weight: 600;
      color: #6a4c93;
    }

    /* Community Context */
    .community-context {
      margin-top: 30px;
    }

    .context-title {
      font-size: 20px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 25px;
      text-align: center;
    }

    .community-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .community-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.06);
      transition: all 0.4s ease;
      text-align: center;
      border: 2px solid #f0f0f0;
      position: relative;
      overflow: hidden;
    }

    .community-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(106, 76, 147, 0.1), transparent);
      transition: all 0.6s ease;
    }

    .community-item:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 10px 30px rgba(0,0,0,0.12);
      border-color: #6a4c93;
    }

    .community-item:hover::before {
      left: 100%;
    }

    .community-icon {
      font-size: 32px;
    }

    .community-name {
      font-size: 16px;
      font-weight: 600;
      color: #1a1a1a;
    }

    .community-focus {
      font-size: 14px;
      color: #6a4c93;
      font-weight: 500;
    }

    /* Responsive design for visual representation */
    @media (max-width: 768px) {
      .visual-elements {
        grid-template-columns: 1fr;
      }
      
      .principle-grid {
        grid-template-columns: 1fr;
      }
      
      .philosophy-flow {
        flex-direction: column;
        gap: 15px;
      }
      
      .community-grid {
        grid-template-columns: 1fr;
      }
    }



    /* ============================================================================
       NETWORK GRAPH STYLING
       ============================================================================ */

    /* Style the D3 container for the network graph */
    #d3-container-2 {
      width: 100%;                        /* Make the container take full width */
      height: 400px;                      /* Set the height to 400 pixels */
      margin: 20px 0;                     /* Add 20px top/bottom margin */
      margin-left: 20px;                  /* Add 20px left margin (indentation) */
      border: 1px solid #ddd;             /* Add a light gray border around the container */
      border-radius: 4px;                 /* Add slightly rounded corners */
      background-color: #f0f0f0;         /* Set background color to light gray */
    }

    /* Style tooltips (popup information when hovering over graph nodes) */
    .tooltip {
      position: absolute;                  /* Position the tooltip absolutely so we can place it anywhere */
      background: rgba(0, 0, 0, 0.8);    /* Semi-transparent black background */
      color: white;                       /* White text color */
      padding: 8px;                       /* Add 8px of spacing inside the tooltip */
      border-radius: 4px;                 /* Add slightly rounded corners */
      font-size: 12px;                    /* Small font size */
      pointer-events: none;               /* Don't let the tooltip interfere with mouse events */
      opacity: 0;                         /* Start invisible */
    }

    /* ============================================================================
       COMMUNITY OF PRACTICE IMAGES STYLING
       ============================================================================ */

    /* Style the image container for each practitioner */
    .practitioner-images {
      display: flex;                      /* Use flexbox to arrange images horizontally */
      flex-direction: row;                /* Ensure images are in a row */
      gap: 1px;                           /* Add 1px space between images */
      margin: 8px 0;                      /* Add 8px top/bottom margin */
      margin-left: 20px;                  /* Add 20px left margin (indentation) */
      width: calc(100% - 40px);           /* Take width minus left and right margins */
      align-items: center;                /* Center images vertically */
      justify-content: space-between;     /* Distribute images evenly across the space */
      flex-wrap: nowrap;                  /* Prevent wrapping to new line */
    }

    /* Style individual images */
    .practitioner-images img {
      width: 33% !important;              /* Each image takes 1/3 of the width */
      height: 180px !important;            /* Increased height */
      object-fit: contain;                /* Show full image without cutting parts */
      border-radius: 0;                   /* No rounded corners */
      border: none;                       /* No border */
      flex-shrink: 0 !important;          /* Prevent images from shrinking */
      flex-grow: 0 !important;            /* Don't grow, stay at 33% width */
      max-width: 33% !important;          /* Maximum width is 33% */
      max-height: 180px !important;        /* Increased maximum height */
      min-width: 33% !important;          /* Minimum width is 33% */
      min-height: 180px !important;        /* Increased minimum height */
      background-color: transparent;      /* No background */
    }

    /* ============================================================================
       TABLE OF CONTENTS STYLING
       ============================================================================ */

    .contents-section {
      background: linear-gradient(135deg, #f8f7ff 0%, #ffffff 100%);
      border: 3px solid #6a4c93;
      border-radius: 15px;
      padding: 25px;
      margin: 30px 0;
      box-shadow: 0 6px 30px rgba(106, 76, 147, 0.15);
    }

    .contents-title {
      font-size: 18px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 3px solid #6a4c93;
      padding-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .contents-links {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      justify-content: center;
    }

    .contents-link {
      display: inline-block;
      padding: 8px 15px;
      background: #ffffff;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      color: #1a1a1a;
      text-decoration: none;
      font-size: 13px;
      font-weight: 600;
      transition: all 0.3s ease;
      white-space: nowrap;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .contents-link:hover {
      background: linear-gradient(135deg, #6a4c93, #8b5cf6);
      color: white;
      transform: translateY(-1px);
      box-shadow: 0 3px 10px rgba(106, 76, 147, 0.3);
      border-color: #6a4c93;
    }

    /* Responsive design for contents */
    @media (max-width: 768px) {
      .contents-links {
        flex-direction: column;
        align-items: center;
        gap: 4px;
      }
      
      .contents-link {
        font-size: 10px;
        padding: 5px 8px;
        width: 100%;
        text-align: center;
      }
    }



    /* ============================================================================
       RESPONSIVE DESIGN (for mobile devices)
       ============================================================================ */

    /* Mobile devices (screens smaller than 768px) */
    @media (max-width: 768px) {
      .slide {
        padding: 40px 20px;
      }
      
      .project-title-main {
        font-size: 32px;
        width: 95%;
      }
      
      .section-content {
        font-size: 16px;
        padding: 30px 20px;
      }
      
      .slide-nav {
        bottom: 20px;
        gap: 10px;
      }
      
      .nav-btn {
        width: 40px;
        height: 40px;
        font-size: 16px;
      }
      
      .slide-counter {
        top: 20px;
        right: 20px;
        padding: 8px 15px;
        font-size: 14px;
      }
    }
  </style>
</head>

<body>
  <!-- The body contains all the visible content that users will see on the page -->
  

  
      <!-- Header section at the top of the page -->
    <header>
      <!-- Left side of header - institution name -->
      <div class="left"><strong>Columbia GSAPP</strong></div>
      
      <!-- Center of header - main title and subtitle -->
      <div class="center">
        <strong>Computational Design Practices</strong><br>
        <!-- <br> creates a line break, moving the next text to a new line -->
        <span><strong>Colloquium 1 Summer 2025</strong></span>
        <!-- span is an inline element that groups text without creating a new line -->
      </div>
      
      <!-- Right side of header - student name -->
      <div class="right"><strong>Romayssae El Idrissi</strong></div>
    </header>

  <!-- Main content area -->
  <main class="sections-container">
    <!-- Scroll indicator -->
    <div class="scroll-indicator" id="scroll-indicator">
      <!-- Dots will be generated by JavaScript -->
    </div>

    <!-- Title Section -->
    <div class="fullscreen-section active" id="title-section">
      <div class="project-title-main">Sensing Senses</div>
      <div class="project-subtitle">Computational Design for Sensory Integration</div>
    </div>
    


    <!-- Process Section -->
    <div class="fullscreen-section" id="process">
      <div class="section-content">
        We've fragmented our natural sensory experience, screens for vision, speakers for sound, keyboards for touch, creating artificial boundaries where none existed.<br><br>
        
        What if the "missing sense" we've always searched for, or what we've always called the "6th sense," isn't a new sense at all, but the natural integration of all our senses? What if there are senses we haven't even discovered yet?<br><br>
        
        This project uses computational design to reunite our fragmented perception, creating new sensory experiences that transcend the artificial boundaries we've built.
      </div>
    </div>

    <!-- Sensory Boundaries Section -->
    <div class="fullscreen-section" id="sensory-boundaries">
      <div class="project-title">Impossible Combinations?</div>
      <div class="section-content">
        <div style="position: absolute; top: 25%; left: 15%; font-size: 32px; font-weight: 600; color: #6a4c93;">taste colors</div>
        <div style="position: absolute; top: 25%; left: 50%; transform: translateX(-50%); font-size: 32px; font-weight: 600; color: #6a4c93;">see sounds</div>
        <div style="position: absolute; top: 25%; right: 15%; font-size: 32px; font-weight: 600; color: #6a4c93;">smell shapes</div>
        
        <div style="position: absolute; top: 50%; left: 15%; font-size: 32px; font-weight: 600; color: #6a4c93;">feel memories</div>
        <div style="position: absolute; top: 50%; left: 50%; transform: translateX(-50%); font-size: 32px; font-weight: 600; color: #6a4c93;">hear textures</div>
        <div style="position: absolute; top: 50%; right: 15%; font-size: 32px; font-weight: 600; color: #6a4c93;">touch emotions</div>
        
        <div style="position: absolute; top: 75%; left: 15%; font-size: 32px; font-weight: 600; color: #6a4c93;">taste thoughts</div>
        <div style="position: absolute; top: 75%; left: 50%; transform: translateX(-50%); font-size: 32px; font-weight: 600; color: #6a4c93;">see time</div>
        <div style="position: absolute; top: 75%; right: 15%; font-size: 32px; font-weight: 600; color: #6a4c93;">hear silence</div>
      </div>
    </div>

    <!-- Rhetorical Argument Section -->
    <div class="fullscreen-section" id="rhetorical-argument">
      <div class="project-title">The Argument</div>
      <div class="section-content">
        <div style="position: absolute; top: 25%; left: 50%; transform: translateX(-50%); font-size: 42px; font-weight: 600; color: #6a4c93; text-align: center; line-height: 1.2; width: 80%;">
          <span style="font-weight: 700; color: #6a4c93;">If</span> we can transcend the built boundaries of the five-sense model,<br>
          <span style="font-weight: 700; color: #6a4c93;">then</span> we can treat sensory integration as a design material
        </div>
        

      </div>
    </div>

    <!-- Built Boundaries Section -->
    <div class="fullscreen-section" id="built-boundaries">
      <div class="project-title">Built Boundaries: De Anima, Aristotle, 350 BC</div>
      <div class="section-content">
        <div style="position: absolute; top: 15%; left: 30%; transform: translateX(-50%); width: 250px; text-align: center;">
          <img src="deanima.jpg" alt="Aristotle De Anima" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
        <div style="position: absolute; top: 15%; right: 30%; transform: translateX(50%); width: 350px; text-align: center;">
          <img src="5senses.JPG" alt="Five Senses" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
      </div>
    </div>

    <!-- Built Boundaries: Descartes Section -->
    <div class="fullscreen-section" id="built-boundaries-descartes">
      <div class="project-title">Built Boundaries: Treatise on Man, Descartes, 1662</div>
      <div class="section-content">
        <div style="position: absolute; top: 15%; left: 30%; transform: translateX(-50%); width: 250px; text-align: center;">
          <img src="descartes1.jpg" alt="Descartes Treatise" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
        <div style="position: absolute; top: 15%; right: 30%; transform: translateX(50%); width: 250px; text-align: center;">
          <img src="descartes2.avif" alt="Mechanistic Senses" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
      </div>
    </div>

    <!-- Built Boundaries: Newton Section -->
    <div class="fullscreen-section" id="built-boundaries-newton">
      <div class="project-title">Built Boundaries: Opticks, Newton, 1704</div>
      <div class="section-content">
        <div style="position: absolute; top: 15%; left: 30%; transform: translateX(-50%); width: 250px; text-align: center;">
          <img src="newton1.jpg" alt="Newton Opticks" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
        <div style="position: absolute; top: 15%; right: 30%; transform: translateX(50%); width: 400px; text-align: center;">
          <img src="newton2.jpg" alt="Color Spectrum" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
      </div>
    </div>

    <!-- Senses Integrated: Anadol Section -->
    <div class="fullscreen-section" id="senses-combined-anadol">
      <div class="project-title">Senses Integrated: Machine Hallucination, Anadol, 2019</div>
      <div class="section-content">
        <div style="position: absolute; top: 15%; left: 30%; transform: translateX(-50%); width: 450px; text-align: center;">
          <img src="anadol1.jpg" alt="AI Multi-Sensory" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
        <div style="position: absolute; top: 15%; right: 30%; transform: translateX(50%); width: 450px; text-align: center;">
          <img src="anafol2.jpg" alt="Integrated Environments" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
      </div>
    </div>

    <!-- Senses Integrated: teamLab Section -->
    <div class="fullscreen-section" id="senses-combined-teamlab">
      <div class="project-title">Senses Integrated: Borderless, teamLab, 2018</div>
      <div class="section-content">
        <div style="position: absolute; top: 15%; left: 30%; transform: translateX(-50%); width: 450px; text-align: center;">
          <img src="teamlab1.jpg" alt="Immersive Integration" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
        <div style="position: absolute; top: 15%; right: 30%; transform: translateX(50%); width: 450px; text-align: center;">
          <img src="teamlab2.jpg" alt="Sensory Unity" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
      </div>
    </div>

    <!-- Senses Integrated: Hemmer Section -->
    <div class="fullscreen-section" id="senses-combined-hemmer">
      <div class="project-title">Senses Integrated: Pulse Room, Hemmer, 2006</div>
      <div class="section-content">
        <div style="position: absolute; top: 15%; left: 30%; transform: translateX(-50%); width: 450px; text-align: center;">
          <img src="Rafael_Lozano-Hemmer_Pace_01.jpg" alt="Heartbeat Light" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
        <div style="position: absolute; top: 15%; right: 30%; transform: translateX(50%); width: 450px; text-align: center;">
          <img src="rafael2.jpg" alt="Bodily Integration" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
      </div>
    </div>

    <!-- Senses Integrated: Ikeda Section -->
    <div class="fullscreen-section" id="senses-combined-ikeda">
      <div class="project-title">Senses Integrated: Data-verse, Ikeda, 2019</div>
      <div class="section-content">
        <div style="position: absolute; top: 15%; left: 30%; transform: translateX(-50%); width: 450px; text-align: center;">
          <img src="Ryoji-Ikeda_HIROSAKI-MOCA-09_Photo-Takeshi-Asano-1024x654.jpg" alt="Data Visualization" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
        <div style="position: absolute; top: 15%; right: 30%; transform: translateX(50%); width: 450px; text-align: center;">
          <img src="ryoji-ikeda-audemars-piguet-venice-biennale1-809x470.jpg" alt="Sensory Data" style="width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        </div>
      </div>
    </div>

    <!-- Research & Methods Network Visualization -->
    <div class="fullscreen-section" id="research-network">
      <div class="project-title" style="margin-top: 120px;">Research & Methods Network</div>
      <div style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%; padding: 0 40px; box-sizing: border-box;">
        <div id="d3-network-container" style="width: 100%; height: 500px; margin: 0; overflow: visible;"></div>
      </div>
    </div>

    <!-- Research Questions Section -->
    <div class="fullscreen-section" id="research-questions">
      <div class="project-title" style="margin-top: 120px;">Research Question</div>
      <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; padding: 0 40px; box-sizing: border-box; text-align: center;">
        
        <!-- Main Research Question -->
        <div style="max-width: 1000px;">
          <div style="font-size: 48px; font-weight: 700; color: #6a4c93; line-height: 1.2;">
            How can computational design create new sensory experiences that transcend the traditional five-sense model?
          </div>
        </div>

      </div>
    </div>

    <!-- Situated Technology Section -->
    <div class="fullscreen-section" id="situated-technology">
      <div class="project-title">Situated Technology</div>
      <div class="section-content">
        <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; padding: 0 40px; box-sizing: border-box;">
          <div style="max-width: 900px; text-align: center;">
            <div style="font-size: 28px; color: #000000; line-height: 1.8; margin-bottom: 40px;">
              "Embedded is a question, namely, whether there is an oppositional space to the computable, and if there is such a thing as incomputable qualities, ideas, or experiences. And perhaps we intuitively know the answer—yes—but how do we capture what's ineffable, and what's incomputable?"
            </div>
            <div style="font-size: 16px; color: #000000; font-weight: 600;">
              — Khan, Nora N. 2022. Mirror Stage: Between Computability and Its Opposite. HOLO 3.
            </div>
          </div>
        </div>
      </div>
    </div>



    <!-- Computational Design Experiments: Hear Textures -->
    <div class="fullscreen-section" id="computational-experiments-hear-textures">
      <div class="project-title">Computational Design Experiments: Hear Textures</div>
      <div class="section-content">
        <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; padding: 0 40px; box-sizing: border-box;">
          <!-- Experiment Container -->
          <div style="width: 100%; max-width: 900px; text-align: center;">
            <h3 style="font-size: 24px; color: #6a4c93; margin-bottom: 20px;">Amethyst Sound Machine</h3>
            
            <!-- Control Panel -->
            <div style="width: 100%; display: flex; justify-content: center; margin-bottom: 30px; gap: 16px;">
              <button id="texture-stopall" style="background: linear-gradient(90deg, #6c3483 60%, #9F5FFF 100%); color: #fff; border: none; border-radius: 8px; padding: 10px 22px; font-size: 16px; font-weight: 600; cursor: pointer; box-shadow: 0 0 12px #6c348388, 0 0 2px #fff; text-shadow: 0 0 6px #fff; border-bottom: 2.5px solid #e8d5ff;">Stop All</button>
            </div>
            
            <!-- Amethyst Crystal Panel -->
            <div id="texture-orb-panel" style="position: relative; width: 420px; height: 320px; margin: 0 auto; display: flex; align-items: center; justify-content: center;"></div>
            

          </div>
        </div>
      </div>
    </div>

    <!-- Computational Design Experiments: Taste Colors -->
    <div class="fullscreen-section" id="computational-experiments-taste-colors">
      <div class="project-title">Computational Design Experiments: Taste Colors</div>
      <div class="section-content">
        <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; padding: 0 40px; box-sizing: border-box;">
                                <!-- Experiment Container -->
                      <div style="width: 100%; max-width: 900px; text-align: center;">
                        <h3 style="font-size: 22px; color: #6a4c93; margin-bottom: 8px;">Computational Taste Synthesis</h3>

                        <!-- Color Input Section -->
                        <div style="display: flex; gap: 25px; align-items: center; justify-content: center; margin-bottom: 20px;">
                          <!-- Color Picker -->
                          <div style="display: flex; flex-direction: column; gap: 10px; align-items: center;">
                            <div style="font-size: 14px; font-weight: 600; color: #6a4c93;">Input Colors</div>
                            <input type="color" id="color-picker" value="#ff6b6b" style="width: 50px; height: 50px; border: none; border-radius: 50%; cursor: pointer; box-shadow: 0 4px 16px rgba(0,0,0,0.2);">
                            <button id="add-color-btn" style="background: linear-gradient(90deg, #6c3483 60%, #9F5FFF 100%); color: #fff; border: none; border-radius: 6px; padding: 6px 12px; font-size: 12px; font-weight: 600; cursor: pointer; box-shadow: 0 0 12px #6c348388, 0 0 2px #fff; text-shadow: 0 0 6px #fff;">Add</button>
                          </div>

                          <!-- Color Mix Display -->
                          <div style="display: flex; flex-direction: column; gap: 10px; align-items: center;">
                            <div style="font-size: 14px; font-weight: 600; color: #6a4c93;">Color Mix</div>
                            <div id="color-mix-display" style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); border: 2px dashed #6a4c93; display: flex; align-items: center; justify-content: center; font-weight: 600; color: #6a4c93; font-size: 10px; box-shadow: 0 4px 16px rgba(106, 76, 147, 0.2);">
                              Add colors
                            </div>
                            <div id="color-list" style="display: flex; gap: 4px; flex-wrap: wrap; max-width: 120px; justify-content: center;"></div>
                          </div>
                        </div>

                        <!-- Control Panel -->
                        <div style="width: 100%; display: flex; justify-content: center; margin-bottom: 20px; gap: 12px;">
                          <button id="taste-compute" style="background: linear-gradient(90deg, #6c3483 60%, #9F5FFF 100%); color: #fff; border: none; border-radius: 6px; padding: 8px 16px; font-size: 14px; font-weight: 600; cursor: pointer; box-shadow: 0 0 12px #6c348388, 0 0 2px #fff; text-shadow: 0 0 6px #fff; border-bottom: 2px solid #e8d5ff;">Compute</button>
                          <button id="taste-play" style="background: linear-gradient(90deg, #6c3483 60%, #9F5FFF 100%); color: #fff; border: none; border-radius: 6px; padding: 8px 16px; font-size: 14px; font-weight: 600; cursor: pointer; box-shadow: 0 0 12px #6c348388, 0 0 2px #fff; text-shadow: 0 0 6px #fff; border-bottom: 2px solid #e8d5ff;">Play</button>
                          <button id="taste-clear" style="background: linear-gradient(90deg, #6c3483 60%, #9F5FFF 100%); color: #fff; border: none; border-radius: 6px; padding: 8px 16px; font-size: 14px; font-weight: 600; cursor: pointer; box-shadow: 0 0 12px #6c348388, 0 0 2px #fff; text-shadow: 0 0 6px #fff; border-bottom: 2px solid #e8d5ff;">Clear</button>
                        </div>

                        <!-- Computed Taste Result -->
                        <div style="display: flex; gap: 25px; align-items: center; justify-content: center;">
                          <!-- Taste Visualization -->
                          <div style="display: flex; flex-direction: column; gap: 10px; align-items: center;">
                            <div style="font-size: 14px; font-weight: 600; color: #6a4c93;">Computed Taste</div>
                            <div id="taste-result-display" style="width: 100px; height: 100px; border-radius: 50%; background: linear-gradient(45deg, #f0f0f0, #e0e0e0); border: 2px solid #6a4c93; display: flex; align-items: center; justify-content: center; font-weight: 600; color: #6a4c93; font-size: 12px; text-align: center; box-shadow: 0 4px 16px rgba(106, 76, 147, 0.2);">
                              Compute taste
                            </div>
                          </div>

                          <!-- Taste Analysis -->
                          <div style="display: flex; flex-direction: column; gap: 10px; align-items: center; max-width: 250px;">
                            <div style="font-size: 14px; font-weight: 600; color: #6a4c93;">Taste Analysis</div>
                            <div id="taste-analysis" style="font-size: 12px; color: #6a4c93; font-weight: 500; text-align: center; line-height: 1.3; background: rgba(106, 76, 147, 0.1); padding: 10px; border-radius: 6px; border: 1px solid rgba(106, 76, 147, 0.2); max-height: 80px; overflow-y: auto;">
                              Add colors and click "Compute Taste" to analyze your color combination
                            </div>
                          </div>
                        </div>

                        <!-- Algorithm Info -->
                        <div style="margin-top: 15px; font-size: 10px; color: #6a4c93; opacity: 0.7; max-width: 500px; margin-left: auto; margin-right: auto;">
                          <strong>Algorithm:</strong> Analyzes hue, saturation, brightness, and color relationships to compute taste profiles using synesthetic mapping principles
                        </div>
                      </div>
        </div>
      </div>
    </div>



    <!-- Visual Representation Section -->
    <div class="fullscreen-section" id="visual-representation">
      <div class="project-title">Visual Representation</div>
      <div class="section-content">
        <div id="visual-images-container" style="display: flex; justify-content: space-between; align-items: center; width: 100%; height: 100%; padding: 0 20px; box-sizing: border-box;">
          
          <img src="SensorialSynestheticWheelLucaMaroni.png" alt="Luca's Synesthetic Wheel" style="width: 33%; height: 90%; object-fit: contain; cursor: pointer; transition: all 0.3s ease;" onclick="expandImage(this, 'SensorialSynestheticWheelLucaMaroni.png')">
          
          <img src="ecosophy.webp" alt="Ecosophy Framework" style="width: 33%; height: 90%; object-fit: contain; cursor: pointer; transition: all 0.3s ease;" onclick="expandImage(this, 'ecosophy.webp')">
          
          <img src="9 steps.png" alt="9-Step Process" style="width: 33%; height: 90%; object-fit: contain; cursor: pointer; transition: all 0.3s ease;" onclick="expandImage(this, '9 steps.png')">
          
        </div>
      </div>
    </div>

    <!-- Capstone Project Outline Section -->
    <div class="fullscreen-section" id="capstone-outline">
      <div class="project-title">Capstone Project Outline</div>
      <div class="section-content">
        <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; padding: 20px; text-align: center;">
          <div style="max-width: 800px; font-size: 20px; line-height: 1.6; color: #000000; margin-bottom: 15px;">
            "Sight isn't the only way to experience the world: Senses work in tandem to guide cognition, movement, and communication. Experts posit that <strong style='color: #000000; font-size: 24px;'>humans possess between 9 and 33 distinct senses</strong>, yet digital design routinely ignores neurological factors beyond sight. Sensory design principles emphasize the interconnection of human perception and prompt designers to explore non-visual solutions."
          </div>
          <div style="font-size: 16px; color: #000000; font-style: italic; margin-bottom: 40px;">
            — Micah Bowers, Managing Editor, Design and Developer Content Marketing, Toptal
          </div>
          
          <!-- Process Flow Diagram -->
          <div style="width: 100%; max-width: 900px; margin-top: 20px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
              <div style="background: linear-gradient(135deg, #6a4c93, #8B5CF6); color: white; padding: 15px 25px; border-radius: 25px; font-weight: 600; font-size: 18px; box-shadow: 0 4px 15px rgba(106, 76, 147, 0.3);">
                Research
              </div>
              <div style="width: 60px; height: 3px; background: linear-gradient(90deg, #6a4c93, #8B5CF6);"></div>
              <div style="background: linear-gradient(135deg, #8B5CF6, #A855F7); color: white; padding: 15px 25px; border-radius: 25px; font-weight: 600; font-size: 18px; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);">
                Design
              </div>
              <div style="width: 60px; height: 3px; background: linear-gradient(90deg, #8B5CF6, #A855F7);"></div>
              <div style="background: linear-gradient(135deg, #A855F7, #C084FC); color: white; padding: 15px 25px; border-radius: 25px; font-weight: 600; font-size: 18px; box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3);">
                Prototype
              </div>
              <div style="width: 60px; height: 3px; background: linear-gradient(90deg, #A855F7, #C084FC);"></div>
              <div style="background: linear-gradient(135deg, #C084FC, #EC4899); color: white; padding: 15px 25px; border-radius: 25px; font-weight: 600; font-size: 18px; box-shadow: 0 4px 15px rgba(192, 132, 252, 0.3);">
                Test
              </div>
              <div style="width: 60px; height: 3px; background: linear-gradient(90deg, #C084FC, #EC4899);"></div>
              <div style="background: linear-gradient(135deg, #EC4899, #F472B6); color: white; padding: 15px 25px; border-radius: 25px; font-weight: 600; font-size: 18px; box-shadow: 0 4px 15px rgba(236, 72, 153, 0.3);">
                Iterate
              </div>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <div style="text-align: center; color: #6a4c93; font-weight: 600; font-size: 14px; width: 120px;">
                Sensory<br>Mapping
              </div>
              <div style="width: 60px;"></div>
              <div style="text-align: center; color: #8B5CF6; font-weight: 600; font-size: 14px; width: 120px;">
                Cross-Modal<br>Design
              </div>
              <div style="width: 60px;"></div>
              <div style="text-align: center; color: #A855F7; font-weight: 600; font-size: 14px; width: 120px;">
                Multi-Sensory<br>Experience
              </div>
              <div style="width: 60px;"></div>
              <div style="text-align: center; color: #C084FC; font-weight: 600; font-size: 14px; width: 120px;">
                User<br>Feedback
              </div>
              <div style="width: 60px;"></div>
              <div style="text-align: center; color: #EC4899; font-weight: 600; font-size: 14px; width: 120px;">
                Refined<br>Experience
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- The Challenge Section -->
    <div class="fullscreen-section" id="the-challenge">
      <div class="project-title">The Challenge</div>
      <div class="section-content">
        <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; padding: 20px; text-align: center;">
          <div style="max-width: 1000px; width: 100%;">
            <table style="width: 100%; border-collapse: collapse;">
              <thead>
                <tr style="background: linear-gradient(135deg, #6a4c93, #8B5CF6); color: white;">
                  <th style="padding: 20px; text-align: center; font-size: 18px; font-weight: 600; border: none;">Challenge</th>
                  <th style="padding: 20px; text-align: center; font-size: 18px; font-weight: 600; border: none;">Problem</th>
                  <th style="padding: 20px; text-align: center; font-size: 18px; font-weight: 600; border: none;">Impact</th>
                </tr>
              </thead>
              <tbody>
                <tr style="border-bottom: 1px solid #e0e0e0;">
                  <td style="padding: 20px; font-size: 16px; font-weight: 600; color: #6a4c93;">The Individuality Problem</td>
                  <td style="padding: 20px; font-size: 16px; color: #333;">Computational systems assume universal sensory experiences, but human perception is highly individual and variable</td>
                  <td style="padding: 20px; font-size: 16px; color: #333;">Digital sensory design fails to account for personal differences in perception, sensitivity, and preference</td>
                </tr>
                <tr style="border-bottom: 1px solid #e0e0e0;">
                  <td style="padding: 20px; font-size: 16px; font-weight: 600; color: #6a4c93;">Quantifying the Qualitative</td>
                  <td style="padding: 20px; font-size: 16px; color: #333;">How to translate qualitative sensory experiences into quantitative computational systems</td>
                  <td style="padding: 20px; font-size: 16px; color: #333;">Loss of meaning when rich experiences are reduced to data points</td>
                </tr>
                <tr>
                  <td style="padding: 20px; font-size: 16px; font-weight: 600; color: #6a4c93;">The Cross-Modal Research Gap</td>
                  <td style="padding: 20px; font-size: 16px; color: #333;">Most research studies senses in isolation, missing how they work together</td>
                  <td style="padding: 20px; font-size: 16px; color: #333;">Incomplete understanding of how senses interact and influence each other</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    
  </main>

  <!-- D3.js Library -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  
  <!-- Tone.js for Audio Synthesis -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>

  <!-- JavaScript for section navigation -->
  <script>
    let currentSection = 1;
    const totalSections = 19;
    let isScrolling = false;
          const sections = [
        'title-section',
        'process',
        'sensory-boundaries',
        'rhetorical-argument',
        'built-boundaries',
        'built-boundaries-descartes',
        'built-boundaries-newton',
        'senses-combined-anadol',
        'senses-combined-teamlab',
        'senses-combined-hemmer',
        'senses-combined-ikeda',
        'research-network',
        'research-questions',
        'situated-technology',
        'computational-experiments-hear-textures',
        'computational-experiments-taste-colors',
        'visual-representation',
        'capstone-outline',
        'the-challenge'
      ];

    // Generate scroll dots
    function generateScrollDots() {
      const scrollIndicator = document.getElementById('scroll-indicator');
      for (let i = 0; i < totalSections; i++) {
        const dot = document.createElement('div');
        dot.className = 'scroll-dot';
        dot.setAttribute('data-section', i + 1);
        dot.addEventListener('click', () => {
          if (!isScrolling) {
            isScrolling = true;
            currentSection = i + 1;
            showSection(currentSection);
            setTimeout(() => { isScrolling = false; }, 800);
          }
        });
        scrollIndicator.appendChild(dot);
      }
    }

    function updateScrollDots() {
      document.querySelectorAll('.scroll-dot').forEach((dot, index) => {
        if (index + 1 === currentSection) {
          dot.classList.add('active');
        } else {
          dot.classList.remove('active');
        }
      });
    }

    // Initialize experiments when sections are shown
    let currentExperiment = null;
    
    // Image expansion functionality
    function expandImage(imgElement, imageSrc) {
      const container = document.getElementById('visual-images-container');
      const allImages = container.querySelectorAll('img');
      
      // If an image is already expanded, collapse it
      if (imgElement.style.width === '100%') {
        allImages.forEach(img => {
          img.style.width = '33%';
          img.style.height = '90%';
          img.style.zIndex = '1';
          img.style.transform = 'scale(1)';
          img.style.cursor = 'pointer';
        });
        container.style.flexDirection = 'row';
      } else {
        // Collapse all images first
        allImages.forEach(img => {
          img.style.width = '0%';
          img.style.height = '90%';
          img.style.zIndex = '1';
          img.style.transform = 'scale(1)';
        });
        
        // Expand the clicked image
        imgElement.style.width = '100%';
        imgElement.style.height = '90%';
        imgElement.style.zIndex = '10';
        imgElement.style.cursor = 'zoom-in';
        container.style.flexDirection = 'row';
        

      }
    }

    function showSection(sectionNumber) {
      // Hide all sections
      document.querySelectorAll('.fullscreen-section').forEach(section => {
        section.classList.remove('active', 'prev');
      });

      // Show current section
      const currentSectionElement = document.getElementById(sections[sectionNumber - 1]);
      if (currentSectionElement) {
        currentSectionElement.classList.add('active');
      }

      // Clean up previous experiment
      if (currentExperiment) {
        currentExperiment();
        currentExperiment = null;
      }

      // Initialize experiments for specific sections
      if (sectionNumber === 15) { // Hear Textures experiment
        setTimeout(() => {
          console.log('Starting Amethyst Sound Machine...');
          currentExperiment = initAmethystSoundMachine();
        }, 500);
      }
      
      if (sectionNumber === 16) { // Taste Colors experiment
        setTimeout(() => {
          console.log('Starting Flavor Spectrum Visualization...');
          currentExperiment = initFlavorSpectrum();
        }, 500);
      }

      // Update scroll dots
      updateScrollDots();

      // Handle header visibility
      const header = document.querySelector('header');
      
      if (sectionNumber === 1) {
        header.classList.remove('hidden');
      } else {
        header.classList.add('hidden');
      }
    }

    function nextSection() {
      if (currentSection < totalSections && !isScrolling) {
        isScrolling = true;
        currentSection++;
        showSection(currentSection);
        setTimeout(() => { isScrolling = false; }, 800);
      }
    }

    function prevSection() {
      if (currentSection > 1 && !isScrolling) {
        isScrolling = true;
        currentSection--;
        showSection(currentSection);
        setTimeout(() => { isScrolling = false; }, 800);
      }
    }

    // Scroll wheel navigation
    document.addEventListener('wheel', function(e) {
      e.preventDefault();
      if (!isScrolling) {
        if (e.deltaY > 0) {
          nextSection();
        } else {
          prevSection();
        }
      }
    }, { passive: false });

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowDown' || e.key === ' ' || e.key === 'PageDown') {
        e.preventDefault();
        nextSection();
      } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {
        e.preventDefault();
        prevSection();
      }
    });

    // Touch/swipe navigation for mobile
    let touchStartY = 0;
    document.addEventListener('touchstart', function(e) {
      touchStartY = e.touches[0].clientY;
    });

    document.addEventListener('touchend', function(e) {
      if (!isScrolling) {
        const touchEndY = e.changedTouches[0].clientY;
        const diff = touchStartY - touchEndY;
        
        if (Math.abs(diff) > 50) { // Minimum swipe distance
          if (diff > 0) {
            nextSection();
          } else {
            prevSection();
          }
        }
      }
    });

    // Initialize
    generateScrollDots();
    showSection(1);

    // Methods Network Visualization
    function createMethodsNetwork() {
      const data = {
        nodes: [
          // Technical Tools
          { id: "tonejs", group: "tools", label: "Tone.js", width: 80, height: 35 },
          { id: "d3js", group: "tools", label: "D3.js", width: 70, height: 35 },
          { id: "javascript", group: "tools", label: "JavaScript", width: 100, height: 35 },
          { id: "css3", group: "tools", label: "CSS3", width: 60, height: 35 },
          
          // Research Methods
          { id: "qualitative", group: "methods", label: "Qualitative Analysis", width: 140, height: 35 },
          { id: "quantitative", group: "methods", label: "Quantitative Algorithms", width: 140, height: 35 },
          { id: "iterative", group: "methods", label: "Iterative Design", width: 120, height: 35 },
          { id: "user-testing", group: "methods", label: "User Testing", width: 100, height: 35 },
          
          // Theoretical Approaches
          { id: "synesthetic", group: "theory", label: "Synesthetic Mapping", width: 130, height: 35 },
          { id: "cross-modal", group: "theory", label: "Cross-Modal Perception", width: 140, height: 35 },
          { id: "computational", group: "theory", label: "Computational Design", width: 130, height: 35 },
          { id: "real-time", group: "theory", label: "Real-time Processing", width: 120, height: 35 }
        ],
        links: [
          // Tool to Method connections
          { source: "tonejs", target: "qualitative", value: 2 },
          { source: "d3js", target: "quantitative", value: 3 },
          { source: "javascript", target: "iterative", value: 3 },
          { source: "css3", target: "user-testing", value: 2 },
          
          // Method to Theory connections
          { source: "qualitative", target: "synesthetic", value: 3 },
          { source: "quantitative", target: "cross-modal", value: 3 },
          { source: "iterative", target: "computational", value: 3 },
          { source: "user-testing", target: "real-time", value: 2 },
          
          // Theory connections
          { source: "synesthetic", target: "cross-modal", value: 4 },
          { source: "computational", target: "real-time", value: 3 },
          { source: "cross-modal", target: "computational", value: 3 },
          { source: "real-time", target: "synesthetic", value: 2 }
        ]
      };
      
      const width = document.getElementById('methods-network-container').offsetWidth;
      const height = 500;
      
      const svg = d3.select('#methods-network-container')
        .append('svg')
        .attr('width', width)
        .attr('height', height);
      
      const g = svg.append('g');
      
      // Color scale for groups
      const color = d3.scaleOrdinal()
        .domain(['tools', 'methods', 'theory'])
        .range(['#9F5FFF', '#6c3483', '#6a4c93']);
      
      const simulation = d3.forceSimulation(data.nodes)
        .force('link', d3.forceLink(data.links).id(d => d.id).distance(120))
        .force('charge', d3.forceManyBody().strength(-300))
        .force('center', d3.forceCenter(width / 2, height / 2))
        .force('collision', d3.forceCollide().radius(d => Math.max(d.width, d.height) / 2 + 20))
        .force('x', d3.forceX(width / 2).strength(0.1))
        .force('y', d3.forceY(height / 2).strength(0.1));
      
      const link = g.append('g')
        .selectAll('line')
        .data(data.links)
        .enter().append('line')
        .attr('stroke', '#6a4c93')
        .attr('stroke-width', d => Math.sqrt(d.value) * 2)
        .attr('opacity', 0.6);
      
      const node = g.append('g')
        .selectAll('g')
        .data(data.nodes)
        .enter().append('g')
        .call(d3.drag()
          .on('start', dragstarted)
          .on('drag', dragged)
          .on('end', dragended));
      
      node.append('rect')
        .attr('width', d => d.width)
        .attr('height', d => d.height)
        .attr('x', d => -d.width / 2)
        .attr('y', d => -d.height / 2)
        .attr('rx', 8)
        .attr('fill', d => color(d.group))
        .attr('stroke', '#6a4c93')
        .attr('stroke-width', 2);
      
      node.append('text')
        .attr('text-anchor', 'middle')
        .attr('dy', '0.35em')
        .attr('fill', '#fff')
        .attr('font-size', '12px')
        .attr('font-weight', '600')
        .text(d => d.label);
      
      function dragstarted(event, d) {
        if (!event.active) simulation.alphaTarget(0.3).restart();
        d.fx = d.x;
        d.fy = d.y;
      }
      
      function dragged(event, d) {
        d.fx = event.x;
        d.fy = event.y;
      }
      
      function dragended(event, d) {
        if (!event.active) simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
      }
      
      simulation.on('tick', () => {
        link
          .attr('x1', d => d.source.x)
          .attr('y1', d => d.source.y)
          .attr('x2', d => d.target.x)
          .attr('y2', d => d.target.y);
        
        node
          .attr('transform', d => `translate(${d.x},${d.y})`);
      });
    }

    // Research & Methods Network Visualization
    function createResearchNetwork() {
      const data = {
        nodes: [
          // Research Keywords (Sensory Focus)
          { id: "sensory-integration", group: "research", label: "Sensory Integration", width: 140, height: 45 },
          { id: "synesthesia", group: "research", label: "Synesthesia", width: 120, height: 45 },
          { id: "multi-sensory", group: "research", label: "Multi-Sensory", width: 130, height: 45 },
          { id: "embodied-perception", group: "research", label: "Embodied Perception", width: 140, height: 45 },
          
          // Research Fields
          { id: "computational-design", group: "fields", label: "Computational Design", width: 150, height: 45 },
          { id: "sensory-science", group: "fields", label: "Sensory Science", width: 130, height: 45 },
          { id: "perceptual-psychology", group: "fields", label: "Perceptual Psychology", width: 140, height: 45 },
          
          // Technical Methods & Tools
          { id: "tonejs", group: "methods", label: "Tone.js", width: 80, height: 45 },
          { id: "d3js", group: "methods", label: "D3.js", width: 70, height: 45 },
          { id: "javascript", group: "methods", label: "JavaScript", width: 100, height: 45 },
          { id: "css3", group: "methods", label: "CSS3", width: 60, height: 45 },
          { id: "web-audio", group: "methods", label: "Web Audio API", width: 120, height: 45 },
          { id: "canvas-api", group: "methods", label: "Canvas API", width: 100, height: 45 },
          { id: "hsl-analysis", group: "methods", label: "HSL Analysis", width: 100, height: 45 },
          { id: "frequency-mapping", group: "methods", label: "Frequency Mapping", width: 130, height: 45 },
          { id: "real-time-processing", group: "methods", label: "Real-time Processing", width: 140, height: 45 },
          { id: "state-management", group: "methods", label: "State Management", width: 130, height: 45 },
          { id: "event-handling", group: "methods", label: "Event Handling", width: 120, height: 45 },
          { id: "algorithmic-design", group: "methods", label: "Algorithmic Design", width: 130, height: 45 },
          
          // Community of Practice
          { id: "refik-anadol", group: "community", label: "Refik Anadol", width: 130, height: 45 },
          { id: "teamlab", group: "community", label: "teamLab", width: 110, height: 45 },
          { id: "ryoji-ikeda", group: "community", label: "Ryoji Ikeda", width: 130, height: 45 },
          { id: "james-turrell", group: "community", label: "James Turrell", width: 130, height: 45 }
        ],
        links: [
          // Research to Fields
          { source: "sensory-integration", target: "computational-design", value: 3 },
          { source: "synesthesia", target: "sensory-science", value: 3 },
          { source: "multi-sensory", target: "perceptual-psychology", value: 3 },
          { source: "embodied-perception", target: "computational-design", value: 3 },
          
          // Fields to Methods
          { source: "computational-design", target: "javascript", value: 4 },
          { source: "computational-design", target: "d3js", value: 3 },
          { source: "computational-design", target: "algorithmic-design", value: 4 },
          { source: "sensory-science", target: "tonejs", value: 4 },
          { source: "sensory-science", target: "web-audio", value: 3 },
          { source: "sensory-science", target: "frequency-mapping", value: 4 },
          { source: "perceptual-psychology", target: "css3", value: 3 },
          { source: "perceptual-psychology", target: "canvas-api", value: 3 },
          { source: "perceptual-psychology", target: "hsl-analysis", value: 3 },
          
          // Methods to Community
          { source: "tonejs", target: "ryoji-ikeda", value: 3 },
          { source: "d3js", target: "refik-anadol", value: 3 },
          { source: "javascript", target: "teamlab", value: 3 },
          { source: "web-audio", target: "james-turrell", value: 2 },
          { source: "frequency-mapping", target: "ryoji-ikeda", value: 3 },
          { source: "algorithmic-design", target: "refik-anadol", value: 4 },
          
          // Research to Methods
          { source: "synesthesia", target: "tonejs", value: 3 },
          { source: "synesthesia", target: "frequency-mapping", value: 4 },
          { source: "multi-sensory", target: "d3js", value: 2 },
          { source: "multi-sensory", target: "real-time-processing", value: 3 },
          { source: "embodied-perception", target: "javascript", value: 3 },
          { source: "embodied-perception", target: "state-management", value: 3 },
          { source: "sensory-integration", target: "web-audio", value: 3 },
          { source: "sensory-integration", target: "event-handling", value: 3 },
          
          // Method to Method connections
          { source: "tonejs", target: "frequency-mapping", value: 4 },
          { source: "d3js", target: "algorithmic-design", value: 3 },
          { source: "javascript", target: "real-time-processing", value: 4 },
          { source: "javascript", target: "state-management", value: 3 },
          { source: "css3", target: "hsl-analysis", value: 3 },
          { source: "web-audio", target: "event-handling", value: 3 },
          { source: "canvas-api", target: "real-time-processing", value: 3 }
        ]
      };

      const width = document.getElementById('d3-network-container').offsetWidth;
      const height = 500;

      const svg = d3.select('#d3-network-container')
        .append('svg')
        .attr('width', width)
        .attr('height', height)
        .style('overflow', 'hidden');

      // Add invisible bounding box for constraint
      svg.append('rect')
        .attr('width', width - 40)
        .attr('height', height - 40)
        .attr('x', 20)
        .attr('y', 20)
        .attr('fill', 'none')
        .attr('stroke', 'transparent')
        .attr('stroke-width', 0);

      const simulation = d3.forceSimulation(data.nodes)
        .force('link', d3.forceLink(data.links).id(d => d.id).distance(150))
        .force('charge', d3.forceManyBody().strength(-200))
        .force('center', d3.forceCenter(width / 2, height / 2))
        .force('collision', d3.forceCollide().radius(d => Math.max(d.width, d.height) / 2 + 15))
        .force('x', d3.forceX(width / 2).strength(0.1))
        .force('y', d3.forceY(height / 2).strength(0.1));

      const link = svg.append('g')
        .selectAll('line')
        .data(data.links)
        .enter().append('line')
        .attr('stroke', '#6a4c93')
        .attr('stroke-width', d => Math.sqrt(d.value))
        .attr('opacity', 0.6);

      const node = svg.append('g')
        .selectAll('g')
        .data(data.nodes)
        .enter().append('g')
        .call(d3.drag()
          .on('start', dragstarted)
          .on('drag', dragged)
          .on('end', dragended));

      node.append('rect')
        .attr('width', d => d.width)
        .attr('height', d => d.height)
        .attr('x', d => -d.width / 2)
        .attr('y', d => -d.height / 2)
        .attr('rx', 8)
        .attr('ry', 8)
        .attr('fill', d => {
          if (d.group === 'research') return '#4C1D95';
          if (d.group === 'fields') return '#7C3AED';
          if (d.group === 'methods') return '#EC4899';
          if (d.group === 'community') return '#F59E0B';
        })
        .attr('stroke', '#ffffff')
        .attr('stroke-width', 2);

      node.append('text')
        .text(d => d.label)
        .attr('text-anchor', 'middle')
        .attr('dy', '.35em')
        .attr('fill', '#ffffff')
        .attr('font-size', '12px')
        .attr('font-weight', '600')
        .style('pointer-events', 'none');

      // Add legend in top right
      const legend = svg.append('g')
        .attr('transform', `translate(${width - 200}, 20)`);

      // Legend items
      const legendData = [
        { color: '#4C1D95', label: 'Research Keywords', group: 'research' },
        { color: '#7C3AED', label: 'Fields', group: 'fields' },
        { color: '#EC4899', label: 'Methods', group: 'methods' },
        { color: '#F59E0B', label: 'Community', group: 'community' }
      ];

      legendData.forEach((item, i) => {
        const legendItem = legend.append('g')
          .attr('transform', `translate(0, ${i * 25})`);

        legendItem.append('rect')
          .attr('width', 16)
          .attr('height', 16)
          .attr('rx', 3)
          .attr('fill', item.color)
          .attr('stroke', '#ffffff')
          .attr('stroke-width', 1);

        legendItem.append('text')
          .text(item.label)
          .attr('x', 25)
          .attr('y', 12)
          .attr('fill', '#6a4c93')
          .attr('font-size', '12px')
          .attr('font-weight', '600');
      });

      simulation.on('tick', () => {
        // Constrain nodes to stay within bounds (avoiding legend area)
        data.nodes.forEach(d => {
          d.x = Math.max(d.width/2 + 20, Math.min(width - d.width/2 - 220, d.x));
          d.y = Math.max(d.height/2 + 20, Math.min(height - d.height/2 - 20, d.y));
        });

        link
          .attr('x1', d => d.source.x)
          .attr('y1', d => d.source.y)
          .attr('x2', d => d.target.x)
          .attr('y2', d => d.target.y);

        node
          .attr('transform', d => `translate(${d.x},${d.y})`);
      });

      function dragstarted(event, d) {
        if (!event.active) simulation.alphaTarget(0.3).restart();
        d.fx = d.x;
        d.fy = d.y;
      }

      function dragged(event, d) {
        d.fx = event.x;
        d.fy = event.y;
      }

      function dragended(event, d) {
        if (!event.active) simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
      }
    }

    // Initialize network when section is shown
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(createResearchNetwork, 1000);
    });

    // Amethyst Sound Machine for Hear Textures
    function initAmethystSoundMachine() {
      console.log('Initializing Amethyst Sound Machine...');
      const amethystOrbCount = 8;
      const amethystCrystals = [
        { c1: '#b399ff', c2: '#9F5FFF', c3: '#6c3483' },
        { c1: '#e8d5ff', c2: '#cc88ff', c3: '#7d3c98' },
        { c1: '#d1b3ff', c2: '#B266FF', c3: '#8844ff' },
        { c1: '#d9b3ff', c2: '#e8d5ff', c3: '#9F5FFF' },
        { c1: '#b399ff', c2: '#6c3483', c3: '#cc88ff' },
        { c1: '#e8d5ff', c2: '#D9B3FF', c3: '#7F3FBF' },
        { c1: '#c299ff', c2: '#7F3FBF', c3: '#b399ff' },
        { c1: '#b399ff', c2: '#8844ff', c3: '#e8d5ff' }
      ];
      const amethystSynthTypes = [
        'sine', 'amsine', 'sine', 'amsine', 'sine', 'amsine', 'sine', 'amsine'
      ]; // Note: All changed to 'sine' in implementation for soothing sound
      const amethystNotes = ['C5','D5','E5','G5','A5','C6','D6','E6'];
      const amethystCrystalLabels = ['A','M','E','T','H','Y','S','T'];
      
      let amethystSynths = [];
      let amethystOrbStates = Array(amethystOrbCount).fill(false);
      let amethystAmbientPad = null;
      let amethystPadStarted = false;
      
      // Setup synths and ambient pad
      const limiter = new Tone.Limiter(-18).toDestination();
      for(let i=0;i<amethystOrbCount;i++) {
        const synth = new Tone.PolySynth(Tone.Synth, {
          oscillator: { type: 'sine' }, // Changed to sine for soothing sound
          envelope: { attack: 2.0, decay: 0.5, sustain: 0.3, release: 4.0 } // Adjusted for soothing
        });
        const reverb = new Tone.Reverb({ decay: 12, wet: 0.95 }).toDestination(); // Adjusted for soothing
        const delay = new Tone.FeedbackDelay({ delayTime: 0.8, feedback: 0.4, wet: 0.7 }).toDestination(); // Adjusted for soothing
        const gain = new Tone.Gain(0.04).connect(limiter); // Adjusted for soothing
        synth.connect(reverb);
        synth.connect(delay);
        synth.connect(gain);
        amethystSynths[i] = synth;
      }
      
      amethystAmbientPad = new Tone.PolySynth(Tone.Synth, {
        oscillator: { type: 'sine' },
        envelope: { attack: 4, decay: 2, sustain: 0.2, release: 8 } // Adjusted for soothing
      });
      const padReverb = new Tone.Reverb({ decay: 15, wet: 0.98 }).toDestination(); // Adjusted for soothing
      const padGain = new Tone.Gain(0.02).connect(limiter); // Adjusted for soothing
      amethystAmbientPad.connect(padReverb);
      amethystAmbientPad.connect(padGain);

      // Render crystal buttons in a circle
      const panel = document.getElementById('texture-orb-panel');
      console.log('Panel found:', panel);
      panel.innerHTML = '';
      const cx = 210, cy = 160, R = 110;
      
      for(let i=0;i<amethystOrbCount;i++) {
        const angle = (i/amethystOrbCount)*2*Math.PI - Math.PI/2;
        const x = cx + R*Math.cos(angle) - 37;
        const y = cy + R*Math.sin(angle) - 45;
        
        const btn = document.createElement('button');
        btn.className = 'amethyst-crystal-btn';
        btn.style.left = x+'px';
        btn.style.top = y+'px';
        btn.innerHTML = `
          <div class="amethyst-crystal-shape" style="--crystal1:${amethystCrystals[i].c1};--crystal2:${amethystCrystals[i].c2};--crystal3:${amethystCrystals[i].c3};">
            <div class="amethyst-crystal-shine"></div>
          </div>
          <div class='amethyst-crystal-label'>${amethystCrystalLabels[i]}</div>
        `;
        
        btn.onclick = async () => {
          // Start audio context on first interaction
          if (Tone.context.state !== 'running') {
            await Tone.start();
          }
          
          startAmethystPad();
          amethystOrbStates[i] = true;
          amethystSynths[i].triggerAttackRelease(amethystNotes[i], '2n'); // Longer note duration
          btn.style.transform = 'scale(1.08) rotate(-2deg)';
          btn.style.filter = 'drop-shadow(0 0 32px #e8d5ffcc)';
          
          setTimeout(()=>{
            amethystOrbStates[i] = false;
            btn.style.transform = '';
            btn.style.filter = 'drop-shadow(0 0 18px #cc88ff99)';
          }, 400);
        };
        
        panel.appendChild(btn);
        console.log('Crystal button created:', i);
      }
      
      // Stop All logic
      document.getElementById('texture-stopall').onclick = async () => {
        // Start audio context on first interaction
        if (Tone.context.state !== 'running') {
          await Tone.start();
        }
        
        amethystOrbStates = Array(amethystOrbCount).fill(false);
        if (amethystPadStarted) {
          amethystAmbientPad.triggerRelease(['C4','E4','G4','B4']);
          amethystPadStarted = false;
        }
        // Reset crystal visuals
        const btns = panel.querySelectorAll('.amethyst-crystal-btn');
        btns.forEach((btn, i) => {
          btn.style.transform = '';
          btn.style.filter = 'drop-shadow(0 0 18px #cc88ff99)';
        });
      };
      
      function startAmethystPad() {
        if (!amethystPadStarted) {
          amethystPadStarted = true;
          amethystAmbientPad.triggerAttack(['C4','E4','G4','B4'], undefined, 0.3);
        }
      }
      
      return () => {
        // Cleanup function
        if (amethystPadStarted) {
          amethystAmbientPad.triggerRelease(['C4','E4','G4','B4']);
        }
        amethystSynths.forEach(synth => {
          if (synth) synth.dispose();
        });
        if (amethystAmbientPad) amethystAmbientPad.dispose();
      };
    }

    // Computational Taste Synthesis for Taste Colors
    function initFlavorSpectrum() {
      const colorPicker = document.getElementById('color-picker');
      const addColorBtn = document.getElementById('add-color-btn');
      const colorMixDisplay = document.getElementById('color-mix-display');
      const colorList = document.getElementById('color-list');
      const tasteResultDisplay = document.getElementById('taste-result-display');
      const tasteAnalysis = document.getElementById('taste-analysis');
      
      let inputColors = [];
      let computedTaste = null;
      let tasteSynth = null;
      
      // Rich taste mapping with frequency-based sound design
      const colorTasteMapping = {
        // Red spectrum - Sweet & Rich (Higher frequencies = brighter, sweeter tastes)
        cotton_candy: { 
          primary: 'cotton_candy', 
          secondary: 'ultra_sweet',
          intensity: 0.9, 
          frequency: 880, // Very high = ultra sweet
          description: 'Cotton Candy & Ultra Sweet',
          complexity: 1,
          attributes: ['ethereal', 'light', 'dreamy']
        },
        strawberry: { 
          primary: 'strawberry', 
          secondary: 'sweet',
          intensity: 0.7, 
          frequency: 660, // High = sweet & bright
          description: 'Strawberry & Sweet',
          complexity: 2,
          attributes: ['fresh', 'bright', 'juicy']
        },
        cherry: { 
          primary: 'cherry', 
          secondary: 'rich',
          intensity: 0.8, 
          frequency: 495, // Medium-high = rich & satisfying
          description: 'Cherry & Rich',
          complexity: 2,
          attributes: ['bold', 'satisfying', 'deep']
        },
        raspberry: { 
          primary: 'raspberry', 
          secondary: 'tart',
          intensity: 0.9, 
          frequency: 330, // Medium = tart & complex
          description: 'Raspberry & Tart',
          complexity: 3,
          attributes: ['intense', 'sophisticated', 'layered']
        },
        pomegranate: { 
          primary: 'pomegranate', 
          secondary: 'intense',
          intensity: 0.95, 
          frequency: 220, // Low = deep & intense
          description: 'Pomegranate & Intense',
          complexity: 4,
          attributes: ['deep', 'complex', 'sophisticated']
        },
        
        // Orange spectrum - Warm & Tropical (Warm frequencies)
        peach: { 
          primary: 'peach', 
          secondary: 'gentle',
          intensity: 0.6, 
          frequency: 550, // High = soft & gentle
          description: 'Peach & Gentle',
          complexity: 2,
          attributes: ['soft', 'gentle', 'comforting']
        },
        apricot: { 
          primary: 'apricot', 
          secondary: 'warm',
          intensity: 0.7, 
          frequency: 440, // Medium-high = warm & aromatic
          description: 'Apricot & Warm',
          complexity: 2,
          attributes: ['smooth', 'aromatic', 'nurturing']
        },
        mango: { 
          primary: 'mango', 
          secondary: 'tropical',
          intensity: 0.8, 
          frequency: 330, // Medium = tropical & vibrant
          description: 'Mango & Tropical',
          complexity: 3,
          attributes: ['exotic', 'vibrant', 'energizing']
        },
        papaya: { 
          primary: 'papaya', 
          secondary: 'exotic',
          intensity: 0.85, 
          frequency: 275, // Medium-low = exotic & rich
          description: 'Papaya & Exotic',
          complexity: 3,
          attributes: ['tropical', 'smooth', 'complex']
        },
        persimmon: { 
          primary: 'persimmon', 
          secondary: 'deep',
          intensity: 0.9, 
          frequency: 220, // Low = deep & complex
          description: 'Persimmon & Deep',
          complexity: 4,
          attributes: ['rich', 'complex', 'sophisticated']
        },
        
        // Yellow spectrum - Bright & Citrus (Bright frequencies)
        lemon: { 
          primary: 'lemon', 
          secondary: 'citrus',
          intensity: 0.7, 
          frequency: 660, // High = bright & tangy
          description: 'Lemon & Citrus',
          complexity: 2,
          attributes: ['bright', 'tangy', 'refreshing']
        },
        banana: { 
          primary: 'banana', 
          secondary: 'smooth',
          intensity: 0.6, 
          frequency: 440, // Medium-high = smooth & sweet
          description: 'Banana & Smooth',
          complexity: 2,
          attributes: ['smooth', 'creamy', 'comforting']
        },
        pineapple: { 
          primary: 'pineapple', 
          secondary: 'tropical',
          intensity: 0.8, 
          frequency: 330, // Medium = tropical & tangy
          description: 'Pineapple & Tropical',
          complexity: 3,
          attributes: ['exotic', 'tangy', 'energizing']
        },
        passion_fruit: { 
          primary: 'passion_fruit', 
          secondary: 'exotic',
          intensity: 0.9, 
          frequency: 275, // Medium-low = exotic & intense
          description: 'Passion Fruit & Exotic',
          complexity: 4,
          attributes: ['intense', 'tropical', 'complex']
        },
        marmalade: { 
          primary: 'marmalade', 
          secondary: 'rich',
          intensity: 0.85, 
          frequency: 220, // Low = rich & complex
          description: 'Marmalade & Rich',
          complexity: 3,
          attributes: ['rich', 'sweet', 'sophisticated']
        },
        
        // Lime spectrum - Zesty & Sharp
        lime: { 
          primary: 'lime', 
          secondary: 'zesty',
          intensity: 0.8, 
          frequency: 550, 
          description: 'Lime & Zesty',
          complexity: 2,
          attributes: ['sharp', 'bright', 'piercing']
        },
        kiwi: { 
          primary: 'kiwi', 
          secondary: 'fresh',
          intensity: 0.7, 
          frequency: 495, 
          description: 'Kiwi & Fresh',
          complexity: 2,
          attributes: ['tangy', 'bright', 'natural']
        },
        avocado: { 
          primary: 'avocado', 
          secondary: 'creamy',
          intensity: 0.6, 
          frequency: 275, 
          description: 'Avocado & Creamy',
          complexity: 2,
          attributes: ['smooth', 'rich', 'nurturing']
        },
        
        // Green spectrum - Natural & Fresh
        mint: { 
          primary: 'mint', 
          secondary: 'cool',
          intensity: 0.7, 
          frequency: 495, 
          description: 'Mint & Cool',
          complexity: 2,
          attributes: ['refreshing', 'clean', 'invigorating']
        },
        basil: { 
          primary: 'basil', 
          secondary: 'herbal',
          intensity: 0.8, 
          frequency: 330, 
          description: 'Basil & Herbal',
          complexity: 2,
          attributes: ['aromatic', 'fresh', 'natural']
        },
        sage: { 
          primary: 'sage', 
          secondary: 'earthy',
          intensity: 0.6, 
          frequency: 275, 
          description: 'Sage & Earthy',
          complexity: 2,
          attributes: ['natural', 'stable', 'grounding']
        },
        
        // Cyan spectrum - Cool & Refreshing
        cucumber: { 
          primary: 'cucumber', 
          secondary: 'fresh',
          intensity: 0.5, 
          frequency: 440, 
          description: 'Cucumber & Fresh',
          complexity: 2,
          attributes: ['cooling', 'smooth', 'gentle']
        },
        celery: { 
          primary: 'celery', 
          secondary: 'crisp',
          intensity: 0.7, 
          frequency: 495, 
          description: 'Celery & Crisp',
          complexity: 2,
          attributes: ['clean', 'refreshing', 'natural']
        },
        seaweed: { 
          primary: 'seaweed', 
          secondary: 'oceanic',
          intensity: 0.8, 
          frequency: 220, 
          description: 'Seaweed & Oceanic',
          complexity: 3,
          attributes: ['salty', 'complex', 'sophisticated']
        },
        
        // Blue spectrum - Cool & Refreshing
        blueberry: { 
          primary: 'blueberry', 
          secondary: 'sweet',
          intensity: 0.8, 
          frequency: 330, 
          description: 'Blueberry & Sweet',
          complexity: 2,
          attributes: ['smooth', 'rich', 'satisfying']
        },
        plum: { 
          primary: 'plum', 
          secondary: 'deep',
          intensity: 0.9, 
          frequency: 440, 
          description: 'Plum & Deep',
          complexity: 3,
          attributes: ['intense', 'sophisticated', 'layered']
        },
        blackberry: { 
          primary: 'blackberry', 
          secondary: 'rich',
          intensity: 0.9, 
          frequency: 220, 
          description: 'Blackberry & Rich',
          complexity: 3,
          attributes: ['deep', 'complex', 'satisfying']
        },
        
        // Purple spectrum - Sophisticated & Complex
        lavender: { 
          primary: 'lavender', 
          secondary: 'floral',
          intensity: 0.7, 
          frequency: 440, 
          description: 'Lavender & Floral',
          complexity: 3,
          attributes: ['delicate', 'elegant', 'refined']
        },
        grape: { 
          primary: 'grape', 
          secondary: 'sweet',
          intensity: 0.8, 
          frequency: 330, 
          description: 'Grape & Sweet',
          complexity: 2,
          attributes: ['smooth', 'rich', 'satisfying']
        },
        fig: { 
          primary: 'fig', 
          secondary: 'deep',
          intensity: 0.9, 
          frequency: 275, 
          description: 'Fig & Deep',
          complexity: 3,
          attributes: ['intense', 'sophisticated', 'layered']
        },
        
        // Neutral spectrum - Balanced & Pure
        vanilla: { 
          primary: 'vanilla', 
          secondary: 'sweet',
          intensity: 0.3, 
          frequency: 660, 
          description: 'Vanilla & Sweet',
          complexity: 1,
          attributes: ['simple', 'smooth', 'comforting']
        },
        cream: { 
          primary: 'cream', 
          secondary: 'smooth',
          intensity: 0.4, 
          frequency: 440, 
          description: 'Cream & Smooth',
          complexity: 2,
          attributes: ['gentle', 'harmonious', 'stable']
        },
        caramel: { 
          primary: 'caramel', 
          secondary: 'rich',
          intensity: 0.9, 
          frequency: 165, 
          description: 'Caramel & Rich',
          complexity: 3,
          attributes: ['sweet', 'smooth', 'indulgent']
        },
        coffee: { 
          primary: 'coffee', 
          secondary: 'bold',
          intensity: 0.9, 
          frequency: 220, 
          description: 'Coffee & Bold',
          complexity: 3,
          attributes: ['intense', 'aromatic', 'sophisticated']
        },
        chocolate: { 
          primary: 'chocolate', 
          secondary: 'rich',
          intensity: 0.9, 
          frequency: 275, 
          description: 'Chocolate & Rich',
          complexity: 3,
          attributes: ['deep', 'smooth', 'indulgent']
        },
        mixed: { 
          primary: 'fusion', 
          secondary: 'complex',
          intensity: 0.6, 
          frequency: 440, 
          description: 'Fusion & Complex',
          complexity: 4,
          attributes: ['multifaceted', 'dynamic', 'sophisticated']
        }
      };
      
      // Convert RGB to specific taste names based on color science
      function hexToColorName(hex) {
        const r = parseInt(hex.slice(1, 3), 16);
        const g = parseInt(hex.slice(3, 5), 16);
        const b = parseInt(hex.slice(5, 7), 16);
        
        console.log(`Analyzing color ${hex}: R=${r}, G=${g}, B=${b}`);
        
        // Calculate HSL for better color analysis
        const max = Math.max(r, g, b);
        const min = Math.min(r, g, b);
        const l = (max + min) / 2;
        const s = max === min ? 0 : (max - min) / (max + min);
        
        let h = 0;
        if (max !== min) {
          if (max === r) h = ((g - b) / (max - min)) % 6;
          else if (max === g) h = (b - r) / (max - min) + 2;
          else h = (r - g) / (max - min) + 4;
          h *= 60;
          if (h < 0) h += 360;
        }
        
        // RGB to taste mapping based on color psychology and synesthesia research
        // Red spectrum (0-30, 330-360 degrees) - Sweet & Rich
        if (h >= 0 && h <= 30 || h >= 330) {
          if (l > 0.8) return 'cotton_candy'; // Very light red - ultra sweet
          if (l > 0.7) return 'strawberry'; // Light red - sweet & fresh
          if (l > 0.5) return 'cherry'; // Medium red - sweet & rich
          if (l > 0.3) return 'raspberry'; // Dark red - tart & complex
          return 'pomegranate'; // Very dark red - intense & sophisticated
        }
        
        // Orange spectrum (30-60 degrees) - Warm & Tropical
        if (h >= 30 && h <= 60) {
          if (l > 0.8) return 'peach'; // Very light orange - soft & gentle
          if (l > 0.7) return 'apricot'; // Light orange - smooth & aromatic
          if (l > 0.5) return 'mango'; // Medium orange - tropical & vibrant
          if (l > 0.3) return 'papaya'; // Dark orange - exotic & rich
          return 'persimmon'; // Very dark orange - deep & complex
        }
        
        // Yellow spectrum (60-90 degrees) - Bright & Citrus
        if (h >= 60 && h <= 90) {
          if (l > 0.8) return 'lemon'; // Very light yellow - bright & tangy
          if (l > 0.7) return 'banana'; // Light yellow - smooth & sweet
          if (l > 0.5) return 'pineapple'; // Medium yellow - tropical & tangy
          if (l > 0.3) return 'passion_fruit'; // Dark yellow - exotic & intense
          return 'marmalade'; // Very dark yellow - rich & complex
        }
        
        // Lime spectrum (90-120 degrees) - Sharp & Fresh
        if (h >= 90 && h <= 120) {
          if (l > 0.8) return 'lime'; // Very light lime - sharp & bright
          if (l > 0.7) return 'kiwi'; // Light lime - tangy & fresh
          if (l > 0.5) return 'guava'; // Medium lime - tropical & sweet
          if (l > 0.3) return 'avocado'; // Dark lime - creamy & rich
          return 'olive'; // Very dark lime - earthy & complex
        }
        
        // Green spectrum (120-180 degrees) - Natural & Fresh
        if (h >= 120 && h <= 180) {
          if (l > 0.8) return 'mint'; // Very light green - refreshing & clean
          if (l > 0.7) return 'basil'; // Light green - aromatic & fresh
          if (l > 0.5) return 'sage'; // Medium green - earthy & herbal
          if (l > 0.3) return 'rosemary'; // Dark green - intense & aromatic
          return 'thyme'; // Very dark green - complex & sophisticated
        }
        
        // Cyan spectrum (180-240 degrees) - Cool & Crisp
        if (h >= 180 && h <= 240) {
          if (l > 0.8) return 'cucumber'; // Very light cyan - cooling & fresh
          if (l > 0.7) return 'celery'; // Light cyan - crisp & clean
          if (l > 0.5) return 'seaweed'; // Medium cyan - oceanic & salty
          if (l > 0.3) return 'wasabi'; // Dark cyan - intense & sharp
          return 'sea_salt'; // Very dark cyan - pure & intense
        }
        
        // Blue spectrum (240-300 degrees) - Deep & Rich
        if (h >= 240 && h <= 300) {
          if (l > 0.8) return 'blueberry'; // Very light blue - sweet & smooth
          if (l > 0.7) return 'plum'; // Light blue - rich & satisfying
          if (l > 0.5) return 'blackberry'; // Medium blue - deep & complex
          if (l > 0.3) return 'elderberry'; // Dark blue - intense & sophisticated
          return 'mulberry'; // Very dark blue - complex & layered
        }
        
        // Purple spectrum (300-330 degrees) - Sophisticated & Floral
        if (h >= 300 && h <= 330) {
          if (l > 0.8) return 'lavender'; // Very light purple - delicate & floral
          if (l > 0.7) return 'grape'; // Light purple - smooth & sweet
          if (l > 0.5) return 'fig'; // Medium purple - deep & sophisticated
          if (l > 0.3) return 'black_currant'; // Dark purple - intense & complex
          return 'acai'; // Very dark purple - exotic & layered
        }
        
        // Neutral colors (low saturation) - Smooth & Comforting
        if (s < 0.1) {
          if (l > 0.9) return 'vanilla'; // Very light - simple & smooth
          if (l > 0.8) return 'cream'; // Light - gentle & harmonious
          if (l > 0.6) return 'caramel'; // Medium light - sweet & smooth
          if (l > 0.4) return 'honey'; // Medium - rich & golden
          if (l > 0.2) return 'coffee'; // Dark - intense & aromatic
          return 'chocolate'; // Very dark - deep & indulgent
        }
        
        console.log(`Color ${hex} classified as mixed taste`);
        return 'mixed';
      }
      
      // Add color to mix
      function addColor() {
        const color = colorPicker.value;
        if (inputColors.length < 8) { // Limit to 8 colors
          inputColors.push(color);
          updateColorMix();
          updateColorList();
        }
      }
      
      // Update color mix display
      function updateColorMix() {
        if (inputColors.length === 0) {
          colorMixDisplay.style.background = 'linear-gradient(45deg, #f0f0f0, #e0e0e0)';
          colorMixDisplay.innerHTML = 'Add colors';
          return;
        }
        
        // Create gradient from input colors
        const gradient = inputColors.length === 1 ? inputColors[0] : 
          `conic-gradient(${inputColors.map((color, i) => `${color} ${i * (360 / inputColors.length)}deg, ${color} ${(i + 1) * (360 / inputColors.length)}deg`).join(', ')})`;
        
        colorMixDisplay.style.background = gradient;
        colorMixDisplay.innerHTML = '';
      }
      
      // Update color list display
      function updateColorList() {
        colorList.innerHTML = '';
        inputColors.forEach((color, index) => {
          const colorDot = document.createElement('div');
          colorDot.style.width = '20px';
          colorDot.style.height = '20px';
          colorDot.style.borderRadius = '50%';
          colorDot.style.backgroundColor = color;
          colorDot.style.border = '2px solid #fff';
          colorDot.style.boxShadow = '0 2px 8px rgba(0,0,0,0.2)';
          colorDot.style.cursor = 'pointer';
          colorDot.title = `Remove ${color}`;
          
          colorDot.addEventListener('click', () => {
            inputColors.splice(index, 1);
            updateColorMix();
            updateColorList();
          });
          
          colorList.appendChild(colorDot);
        });
      }
      
      // Compute taste from colors
      function computeTaste() {
        console.log('Computing taste for colors:', inputColors);
        
        if (inputColors.length === 0) {
          tasteAnalysis.textContent = 'Please add some colors first!';
          return;
        }
        
        // Analyze each color
        const colorAnalyses = inputColors.map(color => {
          const colorName = hexToColorName(color);
          console.log(`Color ${color} classified as: ${colorName}`);
          return colorTasteMapping[colorName] || colorTasteMapping.mixed;
        });
        
        console.log('Color analyses:', colorAnalyses);
        
        // Compute overall taste profile
        const tasteProfile = computeTasteProfile(colorAnalyses);
        console.log('Computed taste profile:', tasteProfile);
        computedTaste = tasteProfile;
        
        // Update display
        updateTasteResult(tasteProfile);
      }
      
      // Compute taste profile from color analyses with complex layering
      function computeTasteProfile(colorAnalyses) {
        // Calculate primary and secondary taste frequencies
        const primaryCounts = {};
        const secondaryCounts = {};
        const allAttributes = [];
        
        colorAnalyses.forEach(analysis => {
          primaryCounts[analysis.primary] = (primaryCounts[analysis.primary] || 0) + 1;
          secondaryCounts[analysis.secondary] = (secondaryCounts[analysis.secondary] || 0) + 1;
          allAttributes.push(...analysis.attributes);
        });
        
        // Find dominant primary and secondary tastes
        const dominantPrimary = Object.keys(primaryCounts).reduce((a, b) => 
          primaryCounts[a] > primaryCounts[b] ? a : b);
        const dominantSecondary = Object.keys(secondaryCounts).reduce((a, b) => 
          secondaryCounts[a] > secondaryCounts[b] ? a : b);
        
        // Calculate average intensity and frequency
        const avgIntensity = colorAnalyses.reduce((sum, analysis) => sum + analysis.intensity, 0) / colorAnalyses.length;
        const avgFrequency = colorAnalyses.reduce((sum, analysis) => sum + analysis.frequency, 0) / colorAnalyses.length;
        
        // Calculate total complexity
        const totalComplexity = colorAnalyses.reduce((sum, analysis) => sum + analysis.complexity, 0);
        
        // Get unique attributes and select the most relevant ones
        const uniqueAttributes = [...new Set(allAttributes)];
        const selectedAttributes = uniqueAttributes.slice(0, 3);
        
        // Generate complex description
        let finalDescription = '';
        if (colorAnalyses.length === 1) {
          finalDescription = colorAnalyses[0].description;
        } else if (colorAnalyses.length === 2) {
          finalDescription = `${colorAnalyses[0].description} + ${colorAnalyses[1].description}`;
        } else {
          // Create a sophisticated layered description with actual taste names
          const primaryDesc = dominantPrimary.charAt(0).toUpperCase() + dominantPrimary.slice(1);
          const secondaryDesc = dominantSecondary.charAt(0).toUpperCase() + dominantSecondary.slice(1);
          finalDescription = `${primaryDesc} & ${secondaryDesc} Blend`;
        }
        
        // Determine complexity level
        let complexityLevel = 'Simple';
        if (totalComplexity >= 8) complexityLevel = 'Ultra Complex';
        else if (totalComplexity >= 6) complexityLevel = 'Very Complex';
        else if (totalComplexity >= 4) complexityLevel = 'Complex';
        else if (totalComplexity >= 2) complexityLevel = 'Balanced';
        
        // Determine intensity level
        let intensityLevel = 'Subtle';
        if (avgIntensity >= 0.8) intensityLevel = 'Intense';
        else if (avgIntensity >= 0.6) intensityLevel = 'Moderate';
        else if (avgIntensity >= 0.4) intensityLevel = 'Gentle';
        
        return {
          primary: dominantPrimary,
          secondary: dominantSecondary,
          intensity: avgIntensity,
          frequency: avgFrequency,
          description: finalDescription,
          complexity: totalComplexity,
          complexityLevel: complexityLevel,
          intensityLevel: intensityLevel,
          attributes: selectedAttributes
        };
      }
      
      // Function to calculate luminance and determine text color
      function getContrastColor(backgroundColor) {
        // Convert hex to RGB
        const hex = backgroundColor.replace('#', '');
        const r = parseInt(hex.substr(0, 2), 16);
        const g = parseInt(hex.substr(2, 2), 16);
        const b = parseInt(hex.substr(4, 2), 16);
        
        // Calculate luminance
        const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;
        
        // Return white for dark backgrounds, black for light backgrounds
        return luminance > 0.5 ? '#000000' : '#ffffff';
      }
      
      // Update taste result display with complex analysis
      function updateTasteResult(tasteProfile) {
        // Update taste result display with all colors
        let gradientColors = '';
        if (inputColors.length === 1) {
          gradientColors = inputColors[0];
        } else if (inputColors.length === 2) {
          gradientColors = `${inputColors[0]}, ${inputColors[1]}`;
        } else {
          // Create a conic gradient with all colors
          gradientColors = inputColors.join(', ');
        }
        tasteResultDisplay.style.background = `conic-gradient(${gradientColors})`;
        
        // Calculate average color for contrast
        const avgColor = inputColors[0]; // Use first color as approximation
        const textColor = getContrastColor(avgColor);
        tasteResultDisplay.style.color = textColor;
        
        tasteResultDisplay.innerHTML = `${tasteProfile.primary}<br>+<br>${tasteProfile.secondary}`;
        
        // Update analysis text with complex attributes and all individual tastes
        const attributesText = tasteProfile.attributes.join(' • ');
        
        // Show all individual tastes that went into the computation
        const individualTastes = inputColors.map((color, index) => {
          const colorName = hexToColorName(color);
          const taste = colorTasteMapping[colorName];
          return `${taste.primary} (${color})`;
        }).join(' + ');
        
        tasteAnalysis.innerHTML = `
          <strong>${tasteProfile.description}</strong><br>
          <em>${tasteProfile.complexityLevel} • ${tasteProfile.intensityLevel} • ${Math.round(tasteProfile.frequency)}Hz</em><br><br>
          <strong>Combined from:</strong> ${individualTastes}<br>
          <strong>Primary:</strong> ${tasteProfile.primary.charAt(0).toUpperCase() + tasteProfile.primary.slice(1)}<br>
          <strong>Secondary:</strong> ${tasteProfile.secondary.charAt(0).toUpperCase() + tasteProfile.secondary.slice(1)}<br>
          <strong>Attributes:</strong> ${attributesText}<br><br>
          Your color combination creates a ${tasteProfile.primary} taste profile with ${tasteProfile.intensityLevel.toLowerCase()} intensity and ${tasteProfile.attributes.length} distinct characteristics.
        `;
      }
      
      // Play computed taste
      function playComputedTaste() {
        if (!computedTaste) {
          tasteAnalysis.textContent = 'Please compute a taste first!';
          return;
        }
        
        // Create synth for computed taste
        const synth = new Tone.Synth({
          oscillator: { type: 'sine' },
          envelope: { attack: 0.2, decay: 0.3, sustain: 0.4, release: 1.0 }
        }).toDestination();
        
        // Play the computed frequency
        synth.triggerAttackRelease(computedTaste.frequency, '2n');
        
        // Cleanup
        setTimeout(() => {
          synth.dispose();
        }, 2000);
      }
      
      // Clear all
      function clearAll() {
        inputColors = [];
        computedTaste = null;
        updateColorMix();
        updateColorList();
        tasteResultDisplay.style.background = 'linear-gradient(45deg, #f0f0f0, #e0e0e0)';
        tasteResultDisplay.innerHTML = 'Compute taste';
        tasteAnalysis.textContent = 'Add colors and click "Compute Taste" to analyze your color combination';
      }
      
      // Event listeners
      addColorBtn.addEventListener('click', addColor);
      document.getElementById('taste-compute').addEventListener('click', computeTaste);
      document.getElementById('taste-play').addEventListener('click', playComputedTaste);
      document.getElementById('taste-clear').addEventListener('click', clearAll);
      
      return () => {
        // Cleanup function
        if (tasteSynth) {
          tasteSynth.dispose();
        }
      };
    }
  </script>

</body>
<!-- End of body - all visible content goes above this line -->
</html>
<!-- End of HTML document --> 
<!-- End of HTML document --> 